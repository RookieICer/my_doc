<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Snoop Filter Support</title><link rel="Prev" href="06_using_AXI_VIP.10.13.html" title="Previous" /><link rel="Next" href="06_using_AXI_VIP.10.15.html" title="Next" /><link rel="StyleSheet" href="css/06_using_AXI_VIP.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/06_using_AXI_VIP_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/axi_svt_uvm_user_guide/06_using_AXI_VIP.10.14.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');

            // escape the '#' character
            //
            redirect_url += '%23' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pbrwnjwDL1bG_002fCbvu1dEPEA" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/axi_svt_uvm_user_guide/06_using_AXI_VIP.10.14.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="01_Intro.01.1.html">AXI UVM User Guide</a> : <a class="WebWorks_Breadcrumb_Link" href="06_using_AXI_VIP.10.01.html#1112101"> Using AXI Verification IP</a> : Snoop Filter Support</div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a><a class="ww_behavior_email ww_skin ww_skin_email" title="E-Mail" href="#" target="external_window">&nbsp;</a></div></header><div id="ww1112101" class="H2">Snoop Filter Support</div><div id="ww1112102" class="L1Body"><span></span>Some interconnects have a snoop filter which keeps track of allocations and de-allocations of cachelines in masters connected to it. The interconnect uses this information to decide which masters to snoop when a coherent transaction is received. Snoops are not broadcasted, but sent only to masters that have an entry in the cache. From a system monitor's point of view, the main difference when it is connected to an interconnect with/without a snoop filter is in the correlations it makes between coherent and snoop transactions and the corresponding checks on the ports on which it expects snoop transactions. If snoop filter is not enabled, all ACE masters will be expected to receive a snoop corresponding to a coherent transaction. If snoop filter is enabled, the system monitor keeps track of allocations and deallocations of cachelines in ACE masters and it expects only those ports which have an allocation to be snooped. Snoop filter configuration is a port level configuration. If the interconnect supports snoop filter, all masters connected to the interconnect must have the following parameter set:</div><div id="ww1112103" class="L1Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_port_configuration::snoop_filter_enable</span></div><div id="ww1119772" class="H3">Snoop Address Translation</div><div id="ww1119794" class="Body"><span></span>Some interconnect DUTs support a feature where there is a translation in snoop address. Typically, higher order bits of the snoop transaction address may be truncated. Any such transformation can be indicated through the following callback:</div><div id="ww1119795" class="L1Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_system_monitor_callback::snoop_transaction_user_addr</span></div><div id="ww1119796" class="Body"><span></span>You must update the following parameters in the system transaction to reflect the actual snoop address sent:</div><div id="ww1119797" class="L1Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_system_transaction::expected_snoop_addr</span></div><div id="ww1119798" class="L1Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_system_transaction::expected_snoop_filter_addr</span></div><div id="ww1119799" class="Body"><span></span>&nbsp;</div><div class="ww_skin_page_overflow"><table class="Note" style="width: 540.75024pt" cellspacing="0" summary=""><tr><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 77.99976pt"><div id="ww1123538" class="Z_Note"><span><img src="Note.gif" alt="*" border="0" width="100" height="27" /></span>&nbsp;</div></td><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 462.75048pt"><div id="ww1123540" class="TableBody"><span></span>The second attribute is expected to have the same value as the first. However, the first attribute (<span class="Code">expected_snoop_addr</span>) is not present for transactions that do not have a snoop such as WRITEBACK transactions. The second attribute (<span class="Code">expected_snoop_filter_addr</span>) would be present and must be updated for such transactions because it has an impact on the snoop filter.</div></td></tr></table></div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer><input type="hidden" id="preserve_unknown_file_links" value="false"></input></body></html>