<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Data Integrity Checks</title><link rel="Prev" href="06_using_AXI_VIP.10.11.html" title="Previous" /><link rel="Next" href="06_using_AXI_VIP.10.13.html" title="Next" /><link rel="StyleSheet" href="css/06_using_AXI_VIP.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/06_using_AXI_VIP_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/axi_svt_uvm_user_guide/06_using_AXI_VIP.10.12.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');

            // escape the '#' character
            //
            redirect_url += '%23' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pkv39yikcCKTNKhzOo6dNMw" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/axi_svt_uvm_user_guide/06_using_AXI_VIP.10.12.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="01_Intro.01.1.html">AXI UVM User Guide</a> : <a class="WebWorks_Breadcrumb_Link" href="06_using_AXI_VIP.10.01.html#1112047"> Using AXI Verification IP</a> : Data Integrity Checks</div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a><a class="ww_behavior_email ww_skin ww_skin_email" title="E-Mail" href="#" target="external_window">&nbsp;</a></div></header><div id="ww1112047" class="H2">Data Integrity Checks</div><div id="ww1112048" class="Body"><span></span>The following data integrity checks are performed by the system monitor. For specific information on the checks, see the class reference documentation of the checks:</div><div id="ww1112049" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_system_checker::data_integrity_check</span></div><div id="ww1112050" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_system_checker::data_integrity_with_outstanding_coherent_write_check</span></div><div id="ww1112051" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_system_checker::master_slave_xact_data_integrity_check</span></div><div id="ww1119900" class="H3">Memory Based Data Integrity Check</div><div id="ww1112052" class="Body"><span></span>The <span class="Code">data_integrity_check</span> performs a check on data integrity by comparing data in a write or read transaction on the master side, with the data in the same address location in AXI Slave VIP memory. This check is performed only when <span class="Code">svt_axi_system_configuration::posted_write_xacts_enable</span> is not set.</div><div id="ww1120004" class="Body"><span></span>Another related configuration member is <span class="Code">svt_axi_port_configuration::memory_update_for_read_xacts_enable</span>. This variable must be 1 if a slave is DUT (that is Slave VIP is in passive mode) and if DUT can return data for locations not written through previous WRITE transactions.</div><div id="ww1119597" class="Body"><span></span>The data_integrity_check is bypassed in the following situations:</div><div id="ww1112053" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>A WRITE transaction to an overlapping address is detected during the life time of the transaction being checked.</div><div id="ww1112054" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">svt_axi_port_configuration::memory_update_for_read_xacts_enable</span> is set and a READ transaction to an overlapping address is detected during the lifetime of the transaction being checked.</div><div id="ww1112055" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>There is a WRITENOSNOOP or READNOSNOOP transaction to an address which is in a shareable domain or the shareability domains of the address received in the WRITENOSNOOP/READNOSNOOP transactions is not configured. Shareability domains are configured using <span class="Code">svt_axi_system_configuration::create_new_domain()</span> and <span class="Code">svt_axi_system_configuration::set_addr_for_domain()</span></div><div id="ww1119894" class="H3">Transaction Correlation Based Data Integrity Check</div><div id="ww1112056" class="Body"><span></span>The <span class="Code">master_slave_xact_data_integrity_check</span> is performed to ensure data integrity between master transactions and the corresponding slave transactions across an interconnect. These checks are performed only if either of the following parameters are set: </div><div id="ww1120058" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>svt_axi_system_configuration::posted_write_xacts_enable </div><div id="ww1120064" class="L1Body"><span></span>(or) </div><div id="ww1120072" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>svt_axi_system_configuration:: master_slave_xact_data_integrity_check_enable. </div><div id="ww1120078" class="Body"><span></span>This check is performed by correlating slave transactions to master transactions and comparing data between the correlated master and slave transactions. The system monitor requires additional information so that it can properly correlate master transactions and slave transactions. The following fields must be set in the configuration:</div><div id="ww1112057" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">svt_axi_system_configuration::id_based_xact_correlation_enable</span></div><div id="ww1112058" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">svt_axi_system_configuration::source_master_info_id_width</span></div><div id="ww1112059" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">svt_axi_system_configuration::source_master_info_position</span></div><div id="ww1112060" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">svt_axi_system_configuration::source_interconnect_id_xmit_to_slaves</span></div><div id="ww1112061" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">svt_axi_system_configuration::source_master_id_wu_wlu_xmit_to_slaves</span></div><div id="ww1112062" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">svt_axi_port_configuration::source_master_id_xmit_to_slaves</span></div><div id="ww1120115" class="Body"><span></span>Other configuration parameters which may be optionally set are:</div><div id="ww1120116" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>	<span class="Code">svt_axi_port_configuration::is_source_master_id_and_dest_slave_id_same</span></div><div id="ww1120117" class="Body"><span></span>If a DUT does not support ID based transaction routing (which means, there is no defined relationship between IDs generated at the master and ID of corresponding transactions sent to slave), the system monitor can still correlate master and slave transactions based on address and data. Providing ID based correlation gives additional hints to narrow down on the correlated transactions and makes the matches more accurate. If the DUT supports this, it is recommended that the system monitor be configured with the appropriate information about transaction IDs using above mentioned configuration members.</div><div id="ww1120118" class="Body"><span></span>Some DUTs support partial ID based correlation. For example, ID of transactions from some masters have a defined relationship to the ID of corresponding slave transactions. In this scenario, ID based correlation can be enabled on per port level by using the following configuration parameter:</div><div id="ww1120119" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>	<span class="Code">svt_axi_port_configuration::id_based_xact_correlation_enable</span></div><div id="ww1112064" class="Body"><span></span>You can retrieve a system transaction that has the correlated information through the following callback in <span class="Code">svt_axi_system_monitor_callback</span>:</div><div id="ww1112065" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">virtual function void master_xact_fully_associated_to_slave_xacts(svt_axi_system_monitor system_monitor,svt_axi_system_transaction sys_xact);</span></div><div id="ww1112066" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">endfunction</span></div><div id="ww1112068" class="Body"><span></span>The following properties in the system transaction can be used to retrieve the master and slave transaction information from the callback. You can perform custom checks in the callback based on the following:</div><div id="ww1112069" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_system_transaction::master_xact</span></div><div id="ww1112070" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_system_transaction::assoc_slave_xacts[$]</span></div><div id="ww1112072" class="Body"><span></span>The <span class="Code">master_slave_xact_data_integrity_check</span> is not intended to replace the data_integrity_check, but it is meant to supplement it by addressing the situations where memory based checking has limitations and need to be bypassed. It also provides a powerful mechanism for users to do custom functional as well as performance checks based on the callback provided.</div><div id="ww1116755" class="Body"><span></span>The system monitor supports correlation of master transactions to slave transactions when Interconnect converts FIXED bursts to INCR bursts as below:</div><div id="ww1116756" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Master sends a FIXED burst of a given burst size and burst length</div><div id="ww1116757" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Interconnect converts this into 'burst length' number of INCR transactions, each of which has a burst size of 8-bit and burst length based on the burst size of the master transaction. For example, if you consider that the master sends a FIXED burst with burst_size of 32 bits and length of 8. This is converted into 8 INCR transactions of burst_size 8-bit and burst_length 4 (corresponding to burst_size of 4 bytes of the original transaction).</div><div id="ww1116759" class="Body"><span></span>In above case, the system monitor can associate the INCR slave transactions to FIXED burst master transactions. The protocol check <span class="Code">master_slave_xact_data_integrity_check</span> performs this check.</div><div id="ww1119580" class="Body"><span></span>&nbsp;</div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer><input type="hidden" id="preserve_unknown_file_links" value="false"></input></body></html>