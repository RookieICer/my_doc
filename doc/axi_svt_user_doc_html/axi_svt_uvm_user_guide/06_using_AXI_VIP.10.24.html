<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Interleaved Port Support</title><link rel="Prev" href="06_using_AXI_VIP.10.23.html" title="Previous" /><link rel="Next" href="06_using_AXI_VIP.10.25.html" title="Next" /><link rel="StyleSheet" href="css/06_using_AXI_VIP.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/06_using_AXI_VIP_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/axi_svt_uvm_user_guide/06_using_AXI_VIP.10.24.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');

            // escape the '#' character
            //
            redirect_url += '%23' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pN9_002fKN8n_002f1c_002fy5eGUSR9N7Lw" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/axi_svt_uvm_user_guide/06_using_AXI_VIP.10.24.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="01_Intro.01.1.html">AXI UVM User Guide</a> : <a class="WebWorks_Breadcrumb_Link" href="06_using_AXI_VIP.10.01.html#1115857"> Using AXI Verification IP</a> : Interleaved Port Support</div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a><a class="ww_behavior_email ww_skin ww_skin_email" title="E-Mail" href="#" target="external_window">&nbsp;</a></div></header><div id="ww1115857" class="H2">Interleaved Port Support</div><div id="ww1118303" class="Body"><span></span>AXI VIP master or slave VIP components support interleaved set of addresses. The master components and slave components can be grouped together in interleaved group. Master or slave components within an interleaved group will support a unique non-overlapping set of address ranges. For example, assume that there are two masters within an interleaved group. Master 0 supports address range 0 to 63, Master 1 supports address range 64 to 127, Master 0 supports address range 128 to 191, Master 1 supports address range 192 to 255, and so on. It means that the Master 0 generates transactions with addresses 0 to 63, 128 to 191 and so on. The interconnect snoops Master 0 for addresses 0 to 63, 128 to 191 and so on. </div><div id="ww1118305" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>AXI System monitor issues error if it observes snoop transaction for an address that is issued to a master which does not support the address range. </div><div id="ww1118307" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>AXI System monitor issues error if it observes snoop transaction issued within the same interleaved group. </div><div id="ww1118382" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>AXI System Monitor checks whether the coherent address observed on master port falls within the interleaving address range. If not, System Monitor generates error. </div><div id="ww1118384" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>AXI System Monitor checks whether the address that is received on slave port falls in the interleaving address range. If the address does not lie in the interleaving address range for this Slave port, then the AXI System Monitor generates error. </div><div id="ww1118386" class="Body"><span></span>In active mode, Master VIP checks if the coherent address generated by it falls in the interleaving address range. If the address does not lie in the interleaving address range for this master port, then the Master VIP generates error through <span class="Code">is_valid</span>() check. The Master VIP continues to transmit the transaction. </div><div id="ww1118388" class="Body"><span></span>In active mode, Master VIP checks if the snoop address received by it falls in the interleaving address range. If the address does not lie in the interleaving address range for this master port, then the Master VIP generates error through <span class="Code">is_valid</span>() check. </div><div id="ww1118390" class="Body"><span></span>In passive mode, Master VIP checks whether the coherent or snoop address observed on this port falls within the interleaving address range. If not, then the Master VIP generates error. </div><div id="ww1118392" class="Body"><span></span>In active and passive mode, Slave VIP checks if the address that is received by it falls in the interleaving address range. If the address does not lie in the interleaving address range for this Slave port, then the Slave VIP generates error. </div><div id="ww1118529" class="Body"><span></span>The following configuration members must be programmed to enable this feature. For more details on each member, see AXI Class Reference HTML documentation:</div><div id="ww1115863" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">svt_axi_port_configuration::port_interleaving_enable</span></div><div id="ww1115864" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">svt_axi_port_configuration::port_interleaving_size</span></div><div id="ww1115865" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">svt_axi_port_configuration::port_interleaving_group_id</span></div><div id="ww1115866" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">svt_axi_port_configuration::dvm_sent_from_interleaved_port</span></div><div id="ww1115867" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">svt_axi_port_configuration::device_xact_sent_from_interleaved_port</span></div><div id="ww1115868" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">svt_axi_port_configuration::port_interleaving_index</span></div><div id="ww1115869" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">svt_axi_port_configuration::port_interleaving_for_device_xact_enable</span></div><div id="ww1115871" class="ExampleTitle">Use Case</div><div id="ww1115872" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Scenario 1</div><div id="ww1115873" class="L2Body"><span></span>Two interleaved ACE master (64 bytes Interleaving Size). </div><div id="ww1115874" class="L2Body"><span></span>You must configure the <span style="font-style: italic">cust_svt_axi_system_configuration</span> file as shown below:</div><div id="ww1115875" class="L2Code">master_cfg[0].port_interleaving_enable  = 1;                   </div><div id="ww1115876" class="L2Code">master_cfg[0].port_interleaving_group_id = 2;                  </div><div id="ww1115877" class="L2Code">master_cfg[0].dvm_sent_from_interleaved_port = 0;       </div><div id="ww1115878" class="L2Code">master_cfg[0].port_interleaving_size =64;</div><div id="ww1115879" class="L2Code">master_cfg[0].port_id = 0;     </div><div id="ww1115880" class="L2Code">master_cfg[0].port_interleaving_index = 0;                                   </div><div id="ww1115881" class="L2Code">master_cfg[1].port_interleaving_enable  = 1;                   </div><div id="ww1115882" class="L2Code">master_cfg[1].port_interleaving_group_id = 2;                  </div><div id="ww1115883" class="L2Code">master_cfg[1].dvm_sent_from_interleaved_port = 0;       </div><div id="ww1115884" class="L2Code">master_cfg[1].port_interleaving_size =64;</div><div id="ww1115885" class="L2Code">master_cfg[1].port_id = 1;       </div><div id="ww1115886" class="L2Code">master_cfg[1].port_interleaving_index = 1;                                   </div><div id="ww1115887" class="L2Body"><span></span>The VIP will take care of the interleaving based on the above configuration inputs In the above use case, VIP will generate error if address[6] == 0 address comes on port 1 and also if address[6]==1 comes on port 0.</div><div id="ww1115888" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Scenario 2</div><div id="ww1115889" class="L2Body"><span></span>Two slaves are interleaved with interleaving size 512 bytes.</div><div id="ww1115890" class="L2Body"><span></span>You must configure the VIP as shown below:</div><div id="ww1115891" class="L2Code">slave_cfg[0].port_interleaving_enable  = 1;                   </div><div id="ww1115892" class="L2Code">slave_cfg[0].port_interleaving_group_id = 2;                  </div><div id="ww1115893" class="L2Code">slave_cfg[0].dvm_sent_from_interleaved_port = 0;       </div><div id="ww1115894" class="L2Code">slave_cfg[0].port_interleaving_size =512;</div><div id="ww1115895" class="L2Code">slave_cfg[0].port_interleaving_index = 0;                                   </div><div id="ww1115896" class="L2Code">slave_cfg[0].port_id = 0;                    </div><div id="ww1115897" class="L2Code">slave_cfg[1].port_interleaving_enable  = 1;                   </div><div id="ww1115898" class="L2Code">slave_cfg[1].port_interleaving_group_id = 2;                  </div><div id="ww1115899" class="L2Code">slave_cfg[1].dvm_sent_from_interleaved_port = 0;       </div><div id="ww1115900" class="L2Code">slave_cfg[1].port_interleaving_size =512;</div><div id="ww1115901" class="L2Code">slave_cfg[1].port_id = 1;        </div><div id="ww1115902" class="L2Code">slave_cfg[1].port_interleaving_index = 1;                                   </div><div id="ww1115903" class="L2Body"><span></span>In the above scenario, slave VIP will generate an error if address[9] == 1 is observed on port 0. This is because slave[0] is configured with port_interleaving_index = 0. Therefore, port 0 is first in the interleaving scheme and expected to receive addresses only with address[9]== 0.</div><div id="ww1116852" class="Body"><span></span>AXI VIP ensures that WriteUnique/WriteLineUnique transactions from one interleaved port do not overlap in time with WriteBack/WriteClean/WriteEvict transactions from the same or another interleaved port. This requirement arises from the fact that the interleaved ports within the same group are considered as a single master component by the interconnect. This behavior is applicable to all the interleaved ports within the interleaved group, irrespective of the address.</div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer><input type="hidden" id="preserve_unknown_file_links" value="false"></input></body></html>