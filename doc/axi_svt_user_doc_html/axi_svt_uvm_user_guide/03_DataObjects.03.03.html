<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>AXI VIP in an UVM Environment</title><link rel="Prev" href="03_DataObjects.03.02.html" title="Previous" /><link rel="Next" href="03_DataObjects.03.04.html" title="Next" /><link rel="StyleSheet" href="css/03_DataObjects.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/03_DataObjects_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/axi_svt_uvm_user_guide/03_DataObjects.03.03.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');

            // escape the '#' character
            //
            redirect_url += '%23' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pPp0Y_002b4eibn9C29ah5oPGYg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/axi_svt_uvm_user_guide/03_DataObjects.03.03.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="01_Intro.01.1.html">AXI UVM User Guide</a> : <a class="WebWorks_Breadcrumb_Link" href="03_DataObjects.03.01.html#1137851"> General Concepts</a> : AXI VIP in an UVM Environment</div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a><a class="ww_behavior_email ww_skin ww_skin_email" title="E-Mail" href="#" target="external_window">&nbsp;</a></div></header><div id="ww1137851" class="H2">AXI VIP in an UVM Environment</div><div id="ww1115506" class="Body"><span></span>The following diagram shows the components of AXI architecture. This includes the AXI3, AXI4, ACE, and ACE5 protocols.</div><div class="ww_skin_page_overflow"><div id="ww1158278" class="Body"><span></span><img class="Default" src="../axi_svt_uvm_user_guide/images/03_DataObjects.03.03.1.jpg" width="100%" style="display: block; left: 0.0pt; max-height: 379px; max-width: 432px; top: 0.0pt" alt="" title="" /></div></div><div id="ww1158188" class="Body"><span></span>&nbsp;</div><div id="ww1115706" class="H3">Master Agent</div><div id="ww1121336" class="Body"><span></span>The Master Agent encapsulates Master Sequencer, Master Driver, and Port Monitor. The Master Agent can be configured to operate in active mode and passive mode. You can provide AXI sequences to the Master Sequencer.</div><div id="ww1121378" class="Body"><span></span>The Master Agent is configured using a port configuration, which is available in the system configuration. The port configuration should be provided to the Master Agent in the build phase of the test.</div><div id="ww1121379" class="Body"><span></span>Within the Master Agent, the Master Driver gets sequences from the Master Sequencer. The Master Driver then drives the AXI transactions on the AXI port. The Master Driver and port Monitor components within Master Agent call callback methods at various phases of execution of the AXI transaction. Details of callbacks are covered in later sections. After the AXI transaction on the bus is complete, the completed sequence item is provided to the analysis port of Port Monitor for use by the testbench.</div><div id="ww1137870" class="FigureTitle"><span class="WebWorks_Number" style="width: 63pt"><span>Figure&nbsp;3‑1	</span></span>Usage With Standalone Master Agent</div><div class="ww_skin_page_overflow"><div id="ww1137874" class="Body"><span></span><img class="Default" src="../axi_svt_uvm_user_guide/images/3.1_master_agent.png" width="100%" style="display: block; left: 0.0pt; max-height: 357px; max-width: 523px; top: 0.0pt" alt="" title="" /></div></div><div id="ww1137875" class="Body"><span></span>&nbsp;</div><div id="ww1121469" class="H3">Slave Agent</div><div id="ww1121470" class="Body"><span></span>The Slave Agent encapsulates Slave Sequencer, Slave Driver, and Port Monitor. The Slave Agent can be configured to operate in active mode and passive mode. You can provide AXI response sequences to the Slave Sequencer.</div><div id="ww1121471" class="Body"><span></span>The Slave Agent is configured using port configuration, which is available in the system configuration. The port configuration should be provided to the Slave Agent in the build phase of the test or the testbench environment.</div><div id="ww1121472" class="Body"><span></span>In the Slave Agent, the Port Monitor samples the AXI port signals. When a new transaction is detected, the Port Monitor provides a response request sequence item to the Slave Sequencer through port <span class="Code">response_request_port</span>. The slave response sequence within the sequencer programs the appropriate slave response. The updated response sequence item is then provided by the Slave Sequencer to the Slave Driver. The Slave Driver in turn drives the response on the AXI bus.</div><div id="ww1135981" class="L1Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div class="ww_skin_page_overflow"><table class="Note" style="width: 540.75024pt" cellspacing="0" summary=""><tr><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 77.99976pt"><div id="ww1166642" class="Z_Note"><span><img src="Note.gif" alt="*" border="0" width="100" height="27" /></span>&nbsp;</div></td><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 462.75048pt"><div id="ww1135978" class="TableBody"><span></span>The slave driver expects the slave response sequence to,</div><div id="ww1135979" class="TableBullet"><span class="WebWorks_Number" style="width: 14.4pt"><span>•	</span></span>Return same handle of the slave response object as provided to the sequencer by the port monitor </div><div id="ww1135980" class="TableBullet"><span class="WebWorks_Number" style="width: 14.4pt"><span>•	</span></span>Return the slave response object in zero time, that is, without any delay after sequencer receives object from the port monitor </div><div id="ww1166644" class="TableBody"><span></span>If any of the above conditions is violated, the slave agent issues a FATAL message.</div></td></tr></table></div><div id="ww1123672" class="Body"><span></span>The Slave Driver and Monitor call callback methods at various phases of execution of the AXI transaction. Details of callbacks are covered in later sections. After the AXI transaction on the bus is complete, the completed sequence item is provided to the analysis port for use by the testbench.</div><div id="ww1123675" class="FigureTitle"><span class="WebWorks_Number" style="width: 63pt"><span>Figure&nbsp;3‑2	</span></span>Usage With Standalone Slave Agent</div><div class="ww_skin_page_overflow"><div id="ww1152275" class="Anchor"><img class="Default" src="../axi_svt_uvm_user_guide/images/3.2_slaveagent.png" width="100%" style="display: block; left: 0.0pt; max-height: 357px; max-width: 523px; top: 0.0pt" alt="" title="" /></div></div><div id="ww1150526" class="H3">Stimulus Modeling</div><div id="ww1150558" class="H4">Stimulus Modeling at Master</div><div id="ww1150559" class="Body"><span></span>The <span class="Code">svt_axi_master_transaction</span> is the basic master transaction description class, which depicts a transaction that has to be generated on the master interface. The class provides rich set of attributes such as address, burst type etc. The class contains transaction level attributes which can be directly mapped to interface signals (for example, addr, burst_type burst_lenth), transaction configuration attributes (for example, data_before_addr) and delay configurations on the master side (for example, addr_valid_delay, and bready_delay). The Master transaction constraint take into account the configuration set for the master agent while randomizing the class instances in order to ensure that attributes are within its configured bounds. Some of the commonly used master transaction class attributes are listed below.</div><div id="ww1150561" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">xact_type</span>: Specifies the transaction types as READ or WRITE</div><div id="ww1150562" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">addr</span> : Specifies the address for the transaction   </div><div id="ww1150563" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">burst_type</span>: Specifies burst type as INCR/FIXED/WRAP </div><div id="ww1150564" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">burst_size</span>: Specifies maximum number of bytes to be transfered in each data transfer.</div><div id="ww1150565" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">addr_valid_delay</span>: Specifies the number of cycles AWVALID/ARVALID signal is delayed.</div><div id="ww1150566" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">burst_length</span>: Specifies the number of beats in the burst</div><div id="ww1150567" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">data_before_addr</span>: Indicates that data will start before address for write transactions  </div><div id="ww1150568" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">reference_event_for_addr_valid_delay</span> : Specifies the reference event from which    <span class="Code">addr_valid_delay</span> should begin.</div><div id="ww1150570" class="Body"><span></span>For complete list of master transaction class attributes, see the class reference HTML document.</div><div id="ww1150572" class="H4">Master VIP Sequence Examples</div><div id="ww1150573" class="Body"><span></span>Sample master sequence using some of the common attributes are given as follows. You can use '<span class="Code">svt_axi_master_base_sequence</span>' base class to create their sequences.</div><div id="ww1150574" class="BodyHead"><span></span>Example 1: Master Directed Sequence</div><div id="ww1150575" class="Body"><span></span>This sequence allows you to write directed test cases for specific scenarios. You have to explicitly specify all relevant master transaction attributes here as the transaction object is not randomized in this sequence. </div><div id="ww1150576" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">class axi_master_directed_sequence extends svt_axi_master_base_sequence;</span></div><div id="ww1150577" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150578" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  /** Parameter that controls the number of transactions that will be generated */</span></div><div id="ww1150579" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  rand int unsigned sequence_length = 10;</span></div><div id="ww1150580" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150581" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  /** Constrain the sequence length to a reasonable value */</span></div><div id="ww1150582" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  constraint reasonable_sequence_length {</span></div><div id="ww1150583" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    sequence_length &lt;= 100;</span></div><div id="ww1150584" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  }</span></div><div id="ww1150585" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150586" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  /** UVM Object Utility macro */</span></div><div id="ww1150587" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  `uvm_object_utils(axi_master_directed_sequence)</span></div><div id="ww1150588" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150589" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  /** Class Constructor */</span></div><div id="ww1150590" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  function new(string name="axi_master_directed_sequence");</span></div><div id="ww1150591" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    super.new(name);</span></div><div id="ww1150592" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  endfunction</span></div><div id="ww1150593" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  </span></div><div id="ww1150594" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  virtual task body();</span></div><div id="ww1150595" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    svt_axi_master_transaction write_tran, read_tran;</span></div><div id="ww1150596" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    svt_configuration get_cfg;</span></div><div id="ww1150597" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    bit status;</span></div><div id="ww1150598" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    `uvm_info("body", "Entered ...", UVM_LOW)</span></div><div id="ww1150599" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150600" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    super.body();</span></div><div id="ww1150601" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    </span></div><div id="ww1150602" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    status = uvm_config_db #(int unsigned)::get(null, get_full_name(), "sequence_length", sequence_length);</span></div><div id="ww1150603" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    `uvm_info("body", $sformatf("sequence_length is %0d as a result of %0s.", sequence_length, status ? "config DB" : "randomization"), UVM_LOW);</span></div><div id="ww1150604" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150605" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    /** Obtain a handle to the port configuration */</span></div><div id="ww1150606" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">          /*</span></div><div id="ww1150607" class="Body"><span></span>In case of directed sequence, port configuration handle need to obtain explicitly, whereas in case   of random sequence this is done implicitly while randomizing the transaction class with uvm_do macro. </div><div id="ww1150608" class="Body"><span></span>   <span class="Code">       */</span></div><div id="ww1150609" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    p_sequencer.get_cfg(get_cfg);</span></div><div id="ww1150610" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    if (!$cast(cfg, get_cfg)) begin</span></div><div id="ww1150611" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      `uvm_fatal("body", "Unable to $cast the configuration to a svt_axi_port_configuration class");</span></div><div id="ww1150612" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    end</span></div><div id="ww1150613" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150614" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    for(int i = 0; i &lt; sequence_length; i++) begin</span></div><div id="ww1150615" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150616" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      /** Set up the write transaction */</span></div><div id="ww1150617" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      `uvm_create(write_tran)</span></div><div id="ww1150618" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      write_tran.port_cfg     = cfg;</span></div><div id="ww1150619" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      write_tran.xact_type    = svt_axi_transaction::WRITE;</span></div><div id="ww1150620" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      write_tran.addr         = 32'h0000_0100 | ('h100 &lt;&lt; i);</span></div><div id="ww1150621" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      write_tran.burst_type   = svt_axi_transaction::INCR;</span></div><div id="ww1150622" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      write_tran.burst_size   = svt_axi_transaction::BURST_SIZE_32BIT;</span></div><div id="ww1150623" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      write_tran.atomic_type  = svt_axi_transaction::NORMAL;</span></div><div id="ww1150624" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      write_tran.burst_length = 4;</span></div><div id="ww1150625" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      write_tran.data         = new[write_tran.burst_length];</span></div><div id="ww1150626" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      write_tran.wstrb        = new[write_tran.burst_length];</span></div><div id="ww1150627" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      write_tran.data_user    = new[write_tran.burst_length];</span></div><div id="ww1150628" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      foreach (write_tran.data[i]) begin</span></div><div id="ww1150629" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        write_tran.data[i] = i;</span></div><div id="ww1150630" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      end</span></div><div id="ww1150631" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      foreach(write_tran.wstrb[i]) begin</span></div><div id="ww1150632" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        write_tran.wstrb[i] = 4'hf;</span></div><div id="ww1150633" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      end</span></div><div id="ww1150634" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      write_tran.wvalid_delay = new[write_tran.burst_length];</span></div><div id="ww1150635" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      foreach (write_tran.wvalid_delay[i]) begin</span></div><div id="ww1150636" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        write_tran.wvalid_delay[i]=i;</span></div><div id="ww1150637" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      end</span></div><div id="ww1150638" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150639" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      /** Send the write transaction */</span></div><div id="ww1150640" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      `uvm_send(write_tran)</span></div><div id="ww1150641" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150642" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      /** Wait for the write transaction to complete */</span></div><div id="ww1150643" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      get_response(rsp);</span></div><div id="ww1150644" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150645" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      /** Set up the read transaction */</span></div><div id="ww1150646" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      `uvm_create(read_tran)</span></div><div id="ww1150647" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      read_tran.port_cfg     = cfg;</span></div><div id="ww1150648" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      read_tran.xact_type    = svt_axi_transaction::READ;</span></div><div id="ww1150649" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      read_tran.addr         = 32'h0000_0100 | ('h100 &lt;&lt; i);</span></div><div id="ww1150650" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      read_tran.burst_type   = svt_axi_transaction::INCR;</span></div><div id="ww1150651" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      read_tran.burst_size   = svt_axi_transaction::BURST_SIZE_32BIT;</span></div><div id="ww1150652" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      read_tran.atomic_type  = svt_axi_transaction::NORMAL;</span></div><div id="ww1150653" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      read_tran.burst_length = 4;</span></div><div id="ww1150654" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      read_tran.rresp        = new[read_tran.burst_length];</span></div><div id="ww1150655" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      read_tran.data         = new[read_tran.burst_length];</span></div><div id="ww1150656" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      read_tran.rready_delay = new[read_tran.burst_length];</span></div><div id="ww1150657" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      read_tran.data_user    = new[read_tran.burst_length];</span></div><div id="ww1150658" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      foreach (read_tran.rready_delay[i]) begin</span></div><div id="ww1150659" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        read_tran.rready_delay[i]=i;</span></div><div id="ww1150660" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      end</span></div><div id="ww1150661" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150662" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      /** Send the read transaction */</span></div><div id="ww1150663" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      `uvm_send(read_tran)</span></div><div id="ww1150664" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150665" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      /** Wait for the read transaction to complete */</span></div><div id="ww1150666" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      get_response(rsp);</span></div><div id="ww1150667" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150668" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    end</span></div><div id="ww1150669" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150670" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    `uvm_info("body", "Exiting...", UVM_LOW)</span></div><div id="ww1150671" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  endtask: body</span></div><div id="ww1150672" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150673" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">endclass: axi_master_directed_sequence</span></div><div id="ww1150675" class="Body"><span></span>Master agent has is_valid check, which checks the transaction programming against protocol specification. So, if transaction attributes are programmed incorrectly, then is_valid check will issue a UVM_WARNING indicating the issue and the test will fail with UVM_FATAL due to 'is_valid' check failure.</div><div id="ww1150676" class="BodyHead"><span></span>Example 1:</div><div id="ww1150677" class="Body"><span></span>The following UVM_WARNING and UVM_FATAL are reported when the interface type is configured as AXI3 and the burst_length is 17 for an INCR burst as this is not allowed as per AXI3 protocol.</div><div id="ww1150678" class="Body"><span></span>UVM_WARNING @ 1025000: reporter [is_valid] Invalid burst_length of 17 provided, must be inside { 1:16 } based on interface type(AXI3), xact_type(WRITE) and `SVT_AXI3_MAX_BURST_LENGTH(16)</div><div id="ww1150679" class="Body"><span></span>UVM_FATAL @ 1025000: uvm_test_top.env.axi_system_env.master[0] [add_to_master_active] {OBJECT_NUM(100000) PORT_ID(0) TYPE(WRITE) ID(0) ADDR(100)} Master Transaction is_valid check failed.</div><div id="ww1150680" class="BodyHead"><span></span>Example 2: Master Random Sequence</div><div id="ww1150681" class="Body"><span></span> This sequence randomizes the transaction class attributes as per the master transaction class constrains. You can specify inline constraints in the sequence if required. Remaining attributes will be assigned with applicable values as per the protocol constraints.</div><div id="ww1150682" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">class axi_master_wr_rd_sequence extends svt_axi_master_base_sequence;</span></div><div id="ww1150683" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150684" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  /** Parameter that controls the number of transactions that will be generated */</span></div><div id="ww1150685" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  rand int unsigned sequence_length = 10;</span></div><div id="ww1150686" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150687" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  /** Constrain the sequence length to a reasonable value */</span></div><div id="ww1150688" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  constraint reasonable_sequence_length {</span></div><div id="ww1150689" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    sequence_length &lt;= 100;</span></div><div id="ww1150690" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  }</span></div><div id="ww1150691" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150692" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  /** UVM Object Utility macro */</span></div><div id="ww1150693" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  `uvm_object_utils(axi_master_wr_rd_sequence)</span></div><div id="ww1150694" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150695" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  /** Class Constructor */</span></div><div id="ww1150696" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  function new(string name="axi_master_wr_rd_sequence");</span></div><div id="ww1150697" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    super.new(name);</span></div><div id="ww1150698" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  endfunction</span></div><div id="ww1150699" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  </span></div><div id="ww1150700" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  virtual task body();</span></div><div id="ww1150701" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    bit status;</span></div><div id="ww1150702" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    `uvm_info("body", "Entered ...", UVM_LOW)</span></div><div id="ww1150703" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    super.body();</span></div><div id="ww1150704" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150705" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    status = uvm_config_db #(int unsigned)::get(null, get_full_name(), "sequence_length", sequence_length);</span></div><div id="ww1150706" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    `uvm_info("body", $sformatf("sequence_length is %0d as a result of %0s.", sequence_length, status ? "config DB" : "randomization"), UVM_LOW);</span></div><div id="ww1150707" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    </span></div><div id="ww1150708" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    repeat (sequence_length) begin</span></div><div id="ww1150709" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      `uvm_do_with(req, </span></div><div id="ww1150710" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        { </span></div><div id="ww1150711" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">          xact_type == svt_axi_transaction::WRITE;</span></div><div id="ww1150712" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">          data_before_addr == 0;</span></div><div id="ww1150713" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        })</span></div><div id="ww1150714" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150715" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      `uvm_do_with(req, </span></div><div id="ww1150716" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        { </span></div><div id="ww1150717" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">          xact_type == svt_axi_transaction::READ;</span></div><div id="ww1150718" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">          data_before_addr == 0;</span></div><div id="ww1150719" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        })</span></div><div id="ww1150720" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    end</span></div><div id="ww1150721" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150722" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    `uvm_info("body", "Exiting...", UVM_LOW)</span></div><div id="ww1150723" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  endtask: body</span></div><div id="ww1150724" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150725" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">endclass: axi_master_wr_rd_sequence</span></div><div id="ww1150727" class="Body"><span></span>You can use object_id field of transaction for transaction tracking. This field is set by VIP for each transaction. Read transaction object_id start with 0 whereas as write transaction object_id start with 100000. <span class="Code">object_id</span> will be seen as OBJECT_NUM in VIP log messages as shown in the example. You can track status related information of a specific transaction using the object_id/OBJECT_NUM.</div><div id="ww1150728" class="BodyHead"><span></span>Example:</div><div id="ww1150729" class="Body"><span></span>UVM_INFO @ 1025000: uvm_test_top.env.axi_system_env.master[0] [send_write_addr] {OBJECT_NUM(100000) PORT_ID(0) TYPE(WRITE) ID(0) ADDR(100)} Driving write address channel signals</div><div id="ww1150730" class="Body"><span></span>UVM_INFO @ 15125000: uvm_test_top.env.axi_system_env.master[0] [send_read_addr] {OBJECT_NUM(0) PORT_ID(0) TYPE(READ) ID(0) ADDR(100)} Driving read address channel signals</div><div id="ww1150731" class="Body"><span></span>UVM_INFO @ 15175000: uvm_test_top.env.axi_system_env.slave[0] [sample_read_addr_chan_signals] {OBJECT_NUM(0) PORT_ID(0) TYPE(READ) ID(0) ADDR(100)} Received read address</div><div id="ww1150732" class="H4">Stimulus Modeling at Slave</div><div id="ww1150733" class="Body"><span></span>The class that describes slave transactions is 'svt_axi_slave_transaction'. Slave generates an object of svt_axi_slave_transaction when a command is received for which response has to be generated. The object defines complete transaction, that is, the command received along with the default response that Slave is configured to generate. Slave transaction class provides attributes to configure the slave response (for example, rresp[], bresp and data[]) and the delay applicable for the slave response (for example, bvalid_delay and addr_ready_delay). Example for slave transaction class attributes are </div><div id="ww1150734" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">rresp[]</span>: This is a dynamic array which configures slave read response for each beat</div><div id="ww1150735" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">bresp</span>: Configures slave write response</div><div id="ww1150736" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">bvalid_delay</span>: Configures slave write response delay</div><div id="ww1150737" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">addr_ready_delay</span>: Configures the delay on <span class="Code">arready</span> assertion.</div><div id="ww1150738" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">enable_interleave</span>: Enables/ Disables interleave</div><div id="ww1151272" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">Interleave_pattern</span>: Defines the pattern for interleaving</div><div id="ww1150741" class="Body"><span></span>VIP allows you to specify distribution weights for delays with attributes. Attributes <span class="Code">ZERO_DELAY_wt</span>,  <span class="Code">SHORT_DELAY_wt</span> and <span class="Code">LONG_DELAY_wt</span> defines the weight used to control distribution of zero delay, short delay and long delay respectively. Example for associated delay is ready signal assertion delay. </div><div id="ww1156593" class="Body"><span></span>For usage details, see <span class="Code">axi_slave_random_response_sequence</span> sequence. </div><div id="ww1150745" class="Body"><span></span>For complete list attributes and details, see the <span class="Code">svt_axi_slave_transaction</span> in class reference HTML. </div><div id="ww1150747" class="Body"><span></span>The slave monitor of the AXI Slave agent contains a blocking peek port named response_request_imp which gets updated with any requests that target that slave. The slave agent connects this peek port to the slave sequencer which has a blocking peek port named response_request_port. Slave sequences must obtain a handle to the request through this port in the sequence, fill in the response information, and then submit this response to the driver through the normal means of sequencer/driver communication.</div><div id="ww1150749" class="H4">Slave VIP Example Sequences </div><div id="ww1150751" class="Body"><span></span>This section demonstrates response generation with slave sequences. These slave sequences are extended from <span class="Code">svt_axi_slave_base_sequence</span>.</div><div id="ww1150753" class="BodyHead"><span></span>Example1: Random Response Sequence</div><div id="ww1150754" class="Body"><span></span>This sequence generates random response from the slave. For write transactions, data is not written to the slave memory and for read, the response and data are random.</div><div id="ww1150756" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">class axi_slave_random_response_sequence extends svt_axi_slave_base_sequence;</span></div><div id="ww1150757" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150758" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  svt_axi_slave_transaction resp_req;</span></div><div id="ww1150759" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150760" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  /** UVM Object Utility macro */</span></div><div id="ww1150761" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  `uvm_object_utils(axi_slave_random_response_sequence)</span></div><div id="ww1150762" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150763" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  /** Class Constructor */</span></div><div id="ww1150764" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  function new(string name="axi_slave_random_response_sequence");</span></div><div id="ww1150765" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    super.new(name);</span></div><div id="ww1150766" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  endfunction</span></div><div id="ww1150767" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150768" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  virtual task body();</span></div><div id="ww1150769" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    `uvm_info("body", "Entered ...", UVM_LOW)</span></div><div id="ww1150770" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150771" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    forever begin</span></div><div id="ww1150772" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150773" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">/**</span></div><div id="ww1150774" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * Get the response request from the slave sequencer. The response request is</span></div><div id="ww1150775" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * provided to the slave sequencer by the slave port monitor, through</span></div><div id="ww1150776" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * TLM port.</span></div><div id="ww1150777" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       */</span></div><div id="ww1150778" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150779" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      p_sequencer.response_request_port.peek(resp_req);</span></div><div id="ww1150780" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150781" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      $cast(req,resp_req);</span></div><div id="ww1150782" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150783" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       req.ZERO_DELAY_wt = 10; </span></div><div id="ww1150784" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150785" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       req.SHORT_DELAY_wt = 20;</span></div><div id="ww1150786" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150787" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       req.LONG_DELAY_wt = 100;</span></div><div id="ww1150788" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    </span></div><div id="ww1150789" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * Demonstration of response randomization with constraints.</span></div><div id="ww1150790" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       */</span></div><div id="ww1150791" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      `uvm_rand_send_with(req,</span></div><div id="ww1150792" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">         {</span></div><div id="ww1150793" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">           foreach(rresp[i]) {</span></div><div id="ww1150794" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">             rresp[i] inside { svt_axi_transaction::SLVERR, svt_axi_transaction::OKAY };</span></div><div id="ww1150795" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">           }</span></div><div id="ww1150796" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">           bresp inside { svt_axi_transaction::SLVERR,svt_axi_transaction::OKAY };</span></div><div id="ww1150797" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">         })</span></div><div id="ww1150798" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150799" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    end</span></div><div id="ww1150800" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150801" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    `uvm_info("body", "Exiting...", UVM_LOW)</span></div><div id="ww1150802" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  endtask: body</span></div><div id="ww1150803" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150804" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">endclass: axi_slave_random_response_sequence</span></div><div id="ww1150806" class="BodyHead"><span></span>Example2: Memory Sequence</div><div id="ww1150808" class="Body"><span></span>This sequence makes use of slave VIP memory. Data is written to and read back from the actual slave memory using the methods <span class="Code">put_write_transaction_data_to_mem</span> and <span class="Code">get_read_data_from_mem_to_zltransaction</span> respectively. These methods are defined in the parent sequence <span class="Code">- svt_axi_slave_base_sequence</span>.</div><div id="ww1150809" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150810" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">class axi_slave_mem_response_sequence extends svt_axi_slave_base_sequence;</span></div><div id="ww1150811" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150812" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  svt_axi_slave_transaction req_resp;</span></div><div id="ww1150813" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150814" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  /** UVM Object Utility macro */</span></div><div id="ww1150815" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  `uvm_object_utils(axi_slave_mem_response_sequence)</span></div><div id="ww1150816" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150817" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  /** Class Constructor */</span></div><div id="ww1150818" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  function new(string name="axi_slave_mem_response_sequence");</span></div><div id="ww1150819" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    super.new(name);</span></div><div id="ww1150820" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  endfunction</span></div><div id="ww1150821" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150822" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  virtual task body();</span></div><div id="ww1150823" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    integer status;</span></div><div id="ww1150824" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    svt_configuration get_cfg;</span></div><div id="ww1150825" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150826" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    `uvm_info("body", "Entered ...", UVM_LOW)</span></div><div id="ww1150827" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150828" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    p_sequencer.get_cfg(get_cfg);</span></div><div id="ww1150829" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    if (!$cast(cfg, get_cfg)) begin</span></div><div id="ww1150830" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      `uvm_fatal("body", "Unable to $cast the configuration to a svt_axi_port_configuration class");</span></div><div id="ww1150831" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    end</span></div><div id="ww1150832" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150833" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    forever begin</span></div><div id="ww1150834" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      /**</span></div><div id="ww1150835" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * Get the response request from the slave sequencer. The response request is</span></div><div id="ww1150836" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * provided to the slave sequencer by the slave port monitor, through</span></div><div id="ww1150837" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * TLM port.</span></div><div id="ww1150838" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       */</span></div><div id="ww1150839" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      p_sequencer.response_request_port.peek(req_resp);</span></div><div id="ww1150840" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150841" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      /**</span></div><div id="ww1150842" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * Randomize the response and delays</span></div><div id="ww1150843" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       */</span></div><div id="ww1150844" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      status=req_resp.randomize with {</span></div><div id="ww1150845" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        bresp == svt_axi_slave_transaction::OKAY;</span></div><div id="ww1150846" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        foreach (rresp[index])  {</span></div><div id="ww1150847" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">          rresp[index] == svt_axi_slave_transaction::OKAY;</span></div><div id="ww1150848" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">          }</span></div><div id="ww1150849" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       };</span></div><div id="ww1150850" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       if(!status)</span></div><div id="ww1150851" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        `uvm_fatal("body","Unable to randomize a response")</span></div><div id="ww1150852" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150853" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      /**</span></div><div id="ww1150854" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * If write transaction, write data into slave built-in memory, else get</span></div><div id="ww1150855" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * data from slave built-in memory</span></div><div id="ww1150856" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       */</span></div><div id="ww1150857" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      if(req_resp.xact_type == svt_axi_slave_transaction::WRITE) begin</span></div><div id="ww1150858" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        put_write_transaction_data_to_mem(req_resp);</span></div><div id="ww1150859" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      end</span></div><div id="ww1150860" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      else begin</span></div><div id="ww1150861" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        get_read_data_from_mem_to_transaction(req_resp);</span></div><div id="ww1150862" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      end</span></div><div id="ww1150863" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    </span></div><div id="ww1150864" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      $cast(req,req_resp);</span></div><div id="ww1150865" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150866" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      /**</span></div><div id="ww1150867" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * send to driver</span></div><div id="ww1150868" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       */</span></div><div id="ww1150869" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      `uvm_send(req)</span></div><div id="ww1150870" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150871" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    end</span></div><div id="ww1150872" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150873" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    `uvm_info("body", "Exiting...", UVM_LOW)</span></div><div id="ww1150874" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  endtask: body</span></div><div id="ww1150875" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150876" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">endclass: axi_slave_mem_response_sequence</span></div><div id="ww1150878" class="Body"><span></span>The <span class="Code">object_id</span> and OBJECT_NUM can be used for slave transaction tracking also.</div><div id="ww1150879" class="H4">Interconnect VIP Transaction classes</div><div id="ww1150880" class="Body"><span></span>Master and slave ports of interconnect VIP also uses transaction classes. The transaction class used by interconnect VIP slave ports is '<span class="Code">svt_axi_ic_slave_transaction</span>' whereas master ports uses <span class="Code">svt_axi_master_transaction</span> class itself.</div><div id="ww1150881" class="H4">Overriding Master and Slave Transaction Classes</div><div id="ww1150882" class="Body"><span></span>You can override master and slave transaction base classes from test or env class in the build_phase with custom classes with additional user constraints. Overriding can be done globally and locally using uvm methods 'set_type_override_by_type' and by 'set_inst_override_by_type' respectively. The following are the examples:</div><div id="ww1150883" class="BodyHead"><span></span>Example:</div><div id="ww1150884" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">virtual function void build_phase (uvm_phase phase);</span></div><div id="ww1150885" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    `uvm_info("build_phase", "Entered...",UVM_LOW)</span></div><div id="ww1150886" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    super.build_phase(phase);</span></div><div id="ww1150887" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">                 ………….</span></div><div id="ww1150888" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">/*Instance Override*/</span></div><div id="ww1150889" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">set_inst_override_by_type( "env.axi_system_env.slave[0].*"</span></div><div id="ww1150890" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      , svt_axi_slave_transaction::get_type()</span></div><div id="ww1150891" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      , cust_svt_axi_slave_transaction::get_type() );</span></div><div id="ww1150892" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">/*Type Override*/</span></div><div id="ww1150893" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">set_type_override_by_type (svt_axi_master_transaction::get_type(),                                   cust_svt_axi_master_transaction::get_type());</span></div><div id="ww1150894" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">set_type_override_by_type (svt_axi_slave_transaction::get_type(),                               cust_svt_axi_slave_transaction::get_type());</span></div><div id="ww1150895" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">set_type_override_by_type(svt_axi_ic_slave_transaction:get_type(), cust_slave_ic_transaction::get_type());</span></div><div id="ww1150896" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">…………..</span></div><div id="ww1150897" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">endfunction</span></div><div id="ww1150898" class="Body"><span></span>&nbsp;</div><div class="ww_skin_page_overflow"><table class="Note" style="width: 540.75024pt" cellspacing="0" summary=""><tr><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 77.99976pt"><div id="ww1166691" class="Z_Note"><span><img src="Note.gif" alt="*" border="0" width="100" height="27" /></span>&nbsp;</div></td><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 462.75048pt"><div id="ww1166693" class="TableBody"><span></span>Master transaction and Slave response will not start until a reset is observed by Master and Slave respectively.</div></td></tr></table></div><div id="ww1154407" class="H4">Setting Valid-Ready Delay Values for Master, Slave, and Interconnect</div><div id="ww1154408" class="Body"><span></span>Three types of delays ZERO (0), SHORT (1:max-1) and LONG (max) are used by VIP for valid-ready delay, and they are applied as weighted constraints in VIP transactions using their respective ZERO_DELAY/SHORT_DELAY/LONG_DELAY_wt attributes. All such constraints can be found in HTML document with reasonable.*delay <span class="Code">reg_exp</span> search. </div><div id="ww1154410" class="Body"><span></span>For example, the following are the two-step process on how you can set all delays to '0' value, leveraging VIP transaction provided attribute <span class="Code">ZERO_DELAY_wt</span>.</div><div id="ww1154412" class="BodyHead"><span></span>Step 1:</div><div id="ww1154570" class="Body"><span></span>Create custom factory transactions for applicable VIP components in your testbench with ZERO_DELAY_wt=100 </div><div id="ww1154414" class="L1Code">//Custom factory master transaction , applicable for master agent</div><div id="ww1154415" class="L1Code">cust_svt_axi_master_transaction extends svt_axi_master_transaction;</div><div id="ww1154416" class="L1Code">  `uvm_object_utils(cust_svt_axi_master_transaction)</div><div id="ww1154417" class="L1Code">&nbsp;</div><div id="ww1154418" class="L1Code">  function new (string name = "cust_svt_axi_master_transaction");</div><div id="ww1154419" class="L1Code">    super.new(name);</div><div id="ww1154420" class="L1Code">    this.ZERO_DELAY_wt  = 100;</div><div id="ww1154421" class="L1Code">    this.SHORT_DELAY_wt =   0;</div><div id="ww1154422" class="L1Code">    this.LONG_DELAY_wt  =   0;</div><div id="ww1154423" class="L1Code">  endfunction: new</div><div id="ww1154424" class="L1Code">endclass: cust_svt_axi_master_transaction</div><div id="ww1154425" class="L1Code">&nbsp;</div><div id="ww1154426" class="L1Code">//Custom factory slave transaction , applicable for slave agent</div><div id="ww1154427" class="L1Code">class cust_svt_axi_slave_transaction extends svt_axi_slave_transaction;</div><div id="ww1154428" class="L1Code">  `uvm_object_utils(cust_svt_axi_slave_transaction)</div><div id="ww1154429" class="L1Code">&nbsp;</div><div id="ww1154430" class="L1Code">  function new (string name = "cust_svt_axi_slave_transaction");</div><div id="ww1154431" class="L1Code">    super.new(name);</div><div id="ww1154432" class="L1Code">    this.ZERO_DELAY_wt  = 100;</div><div id="ww1154433" class="L1Code">    this.SHORT_DELAY_wt =   0;</div><div id="ww1154434" class="L1Code">    this.LONG_DELAY_wt  =   0;</div><div id="ww1154435" class="L1Code">  endfunction: new</div><div id="ww1154436" class="L1Code">&nbsp;</div><div id="ww1154437" class="L1Code">     endclass: cust_svt_axi_slave_transaction</div><div id="ww1154438" class="L1Code">&nbsp;</div><div id="ww1154439" class="L1Code">//Custom factory Interconnect transaction , applicable for interconnect agent</div><div id="ww1154440" class="L1Code">class cust_svt_axi_ic_slave_transaction extends svt_axi_ic_slave_transaction;</div><div id="ww1154441" class="L1Code">  `uvm_object_utils(cust_svt_axi_ic_slave_transaction)</div><div id="ww1154442" class="L1Code">&nbsp;</div><div id="ww1154443" class="L1Code">  function new (string name = "cust_svt_axi_ic_slave_transaction");</div><div id="ww1154444" class="L1Code">    super.new(name);</div><div id="ww1154445" class="L1Code">    this.ZERO_DELAY_wt  = 100;</div><div id="ww1154446" class="L1Code">    this.SHORT_DELAY_wt =   0;</div><div id="ww1154447" class="L1Code">    this.LONG_DELAY_wt  =   0;</div><div id="ww1154448" class="L1Code">  endfunction: new</div><div id="ww1154449" class="L1Code">&nbsp;</div><div id="ww1154450" class="L1Code">endclass: cust_svt_axi_ic_slave_transaction</div><div id="ww1154453" class="BodyHead"><span></span>Step 2:</div><div id="ww1154609" class="Body"><span></span>Do three factory type-wide replacements in your env/test (or you can apply this to specific instances as applicable)</div><div id="ww1154455" class="L1Code">set_type_override_by_type(svt_axi_master_transaction::get_type(),   cust_svt_axi_master_transaction::get_type());</div><div id="ww1154456" class="L1Code">    set_type_override_by_type(svt_axi_slave_transaction::get_type(),    cust_svt_axi_slave_transaction::get_type());</div><div id="ww1154457" class="L1Code">    set_type_override_by_type(svt_axi_ic_slave_transaction::get_type(), cust_svt_axi_ic_slave_transaction::get_type());</div><div id="ww1125823" class="Anchor">&nbsp;</div><div id="ww1123676" class="H3">Slave Memory</div><div id="ww1135522" class="Body"><span></span>AXI VIP provides slave memory represented by class svt_mem. Slave memory is instantiated in slave agent. In passive mode, the slave agent keeps the memory updated based on the observed data on the bus. This enables the system-level checks in the passive mode. In active mode, the slave memory is updated by the slave sequence. </div><div id="ww1138516" class="Body"><span></span>See the slave sequence <span class="Code">svt_axi_slave_base_sequence </span>in file <span class="Code">$DESIGNWARE_HOME/vip/svt/amba_svt/latest/axi_slave_agent_svt/sverilog/src/vcs/svt_axi_slave_ sequence_collection.svp</span>. A reference to the slave memory instantiated in the slave agent is provided in the slave sequence. Using the API of this slave memory, you can read or write into the slave memory through this base sequence, or sequence extended from this base sequence. </div><div id="ww1135400" class="Body"><span></span>For details on <span class="Code">svt_mem</span> and <span class="Code">svt_axi_slave_base_sequence</span>, see the AXI SVT class reference HTML documentation. </div><div id="ww1147328" class="H4">Slave Memory Modeling</div><div id="ww1150094" class="H4">AXI Slave Memory Modeling</div><div id="ww1150095" class="Body"><span></span>The memory in AXI slave VIP is modeled using the class "<span class="Code">svt_mem</span>". Slave memory is instantiated in slave agent. </div><div id="ww1150096" class="Body"><span></span>In passive mode, the slave agent keeps the memory updated based on the observed data on the bus. For write transactions, the memory is updated based on the observed write data. For read transactions, the memory is updated based on the read data. The configuration <span class="Code">svt_axi_port_configuration::memory_update_for_read_xact_enable </span>controls the vip behavior. The default value for this configuration is 1, so the memory will be updated for the read transactions it observes. This doesn't enable system check. At any RTL-to-RTL interface, if passive slave VIP is connected, then memory update from the observed traffic facilitate system level data integrity checks across such port. </div><div id="ww1150098" class="H4">Front Door Access</div><div id="ww1150099" class="Body"><span></span>In active mode, the slave memory is updated by the slave sequence whenever it observes a transaction on the interface. In passive mode, the slave memory is updated by the monitor based on the observed write/read transactions on the interface. This is referred as front door access of slave memory. See the slave sequence <span class="Code">svt_axi_slave_base_sequence</span> in the file:</div><div id="ww1150100" class="Body"><span></span><span class="Code">$DESIGNWARE_HOME/vip/svt/amba_svt/latest/axi_slave_agent_svt/sverilog/src/vcs/svt_axi_slave_ sequence_collection.svp</span>. A reference to the slave memory instantiated in the slave agent is provided in the slave sequence. Using the API of this slave memory, you can read or write into the slave memory through this base sequence, or sequence extended from this base sequence. </div><div id="ww1156718" class="Body"><span></span>For more details on <span class="Code">svt_mem</span> and <span class="Code">svt_axi_slave_base_sequencet,</span> see AXI SVT class reference HTML documentation. The usage of these APIs is shown in the axi_slave_mem_response_sequence that is part of the vip example.</div><div id="ww1150101" class="Body"><span></span>&nbsp;</div><div id="ww1150102" class="Body"><span></span>Example:</div><div id="ww1150103" class="Body"><span></span>The body() of a typical slave sequence looks like below:</div><div id="ww1150104" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  virtual task body();</span></div><div id="ww1150105" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    integer status;</span></div><div id="ww1150106" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    svt_configuration get_cfg;</span></div><div id="ww1150107" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150108" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    `uvm_info("body", "Entered ...", UVM_LOW)</span></div><div id="ww1150109" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150110" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    p_sequencer.get_cfg(get_cfg);</span></div><div id="ww1150111" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    if (!$cast(cfg, get_cfg)) begin</span></div><div id="ww1150112" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      `uvm_fatal("body", "Unable to $cast the configuration to a svt_axi_port_configuration class");</span></div><div id="ww1150113" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    end</span></div><div id="ww1150114" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150115" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    // consumes responses sent by driver</span></div><div id="ww1150116" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    sink_responses();</span></div><div id="ww1150117" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150118" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    forever begin</span></div><div id="ww1150119" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      /**</span></div><div id="ww1150120" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * Get the response request from the slave sequencer. The response request is</span></div><div id="ww1150121" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * provided to the slave sequencer by the slave port monitor, through</span></div><div id="ww1150122" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * TLM port.</span></div><div id="ww1150123" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       */</span></div><div id="ww1150124" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      p_sequencer.response_request_port.peek(req_resp);</span></div><div id="ww1150125" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150126" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      /**</span></div><div id="ww1150127" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * Randomize the response and delays</span></div><div id="ww1150128" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       */</span></div><div id="ww1150129" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      status=req_resp.randomize with {</span></div><div id="ww1150130" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        bresp == svt_axi_slave_transaction::OKAY;</span></div><div id="ww1150131" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        foreach (rresp[index])  {</span></div><div id="ww1150132" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">          rresp[index] == svt_axi_slave_transaction::OKAY;</span></div><div id="ww1150133" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">          }</span></div><div id="ww1150134" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       };</span></div><div id="ww1150135" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       if(!status)</span></div><div id="ww1150136" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        `uvm_fatal("body","Unable to randomize a response")</span></div><div id="ww1150137" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150138" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      /**</span></div><div id="ww1150139" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * If write transaction, write data into slave built-in memory, else get</span></div><div id="ww1150140" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * data from slave built-in memory</span></div><div id="ww1150141" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       */</span></div><div id="ww1150142" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      if(req_resp.xact_type == svt_axi_slave_transaction::WRITE) begin</span></div><div id="ww1150143" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        put_write_transaction_data_to_mem(req_resp);</span></div><div id="ww1150144" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      end</span></div><div id="ww1150145" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      else begin</span></div><div id="ww1150146" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        get_read_data_from_mem_to_transaction(req_resp);</span></div><div id="ww1150147" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      end</span></div><div id="ww1150148" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    </span></div><div id="ww1150149" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      $cast(req,req_resp);</span></div><div id="ww1150150" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150151" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      /**</span></div><div id="ww1150152" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       * send to driver</span></div><div id="ww1150153" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">       */</span></div><div id="ww1150154" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      `uvm_send(req)</span></div><div id="ww1150155" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150156" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    end</span></div><div id="ww1150157" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150158" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    `uvm_info("body", "Exiting...", UVM_LOW)</span></div><div id="ww1150159" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">  endtask: body</span></div><div id="ww1150160" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1150161" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">The memory is updated from the sequence in the following way: </span></div><div id="ww1150162" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      if(req_resp.xact_type == svt_axi_slave_transaction::WRITE) begin</span></div><div id="ww1150163" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        put_write_transaction_data_to_mem(req_resp);</span></div><div id="ww1150164" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      end</span></div><div id="ww1150165" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      else begin</span></div><div id="ww1150166" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        get_read_data_from_mem_to_transaction(req_resp);</span></div><div id="ww1150167" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      end</span></div><div id="ww1150169" class="Body"><span></span>These APIs are part of the slave agent and can be copied over and modified as per the custom requirement. The code related to these APIs is not protected. </div><div id="ww1150170" class="Body"><span></span>axi_slave_random_response_sequence shown in the vip example does not access the slave memory. The response and data is completely random. </div><div id="ww1150172" class="H4">Backdoor Access</div><div id="ww1150173" class="Body"><span></span>The slave memory can also be accessed using the back door APIs (not through axi interface) from the testbench. The important APIs are:</div><div id="ww1150174" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">read()</span></div><div id="ww1150175" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">write()</span></div><div id="ww1150176" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">set_meminit()</span></div><div id="ww1150177" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">load_mem()</span></div><div id="ww1150178" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">save_mem()</span> </div><div id="ww1150179" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">clear()</span> </div><div id="ww1150180" class="Body"><span></span>See the HTML doc for details. The following are some articles related to back door memory access:</div><div id="ww1150181" class="Body" style="color: #0000ff; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span></span><span class="Link"><a href="https://solvnet.synopsys.com/retrieve/2290799.html" target="external_window">https://SolvNetPlus.synopsys.com/retrieve/2290799.html</a></span></div><div id="ww1150182" class="Body" style="color: #0000ff; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span></span><span class="Link"><a href="https://solvnet.synopsys.com/retrieve/2214179.html" target="external_window">https://SolvNetPlus.synopsys.com/retrieve/2214179.html</a></span></div><div id="ww1150183" class="Body" style="color: #0000ff; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span></span><span class="Link"><a href="https://solvnet.synopsys.com/retrieve/2042786.html" target="external_window">https://SolvNetPlus.synopsys.com/retrieve/2042786.html</a></span></div><div id="ww1150184" class="Body" style="color: #0000ff; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span></span><span class="Link"><a href="https://solvnet.synopsys.com/retrieve/034476.html" target="external_window">https://SolvNetPlus.synopsys.com/retrieve/034476.html</a></span></div><div id="ww1150186" class="Body"><span></span>While doing the backdoor access of memory using read() and write() methods, the number of bytes accesses will be equal to the data_width configured on the slave agent. For example, if the data_width is 32 bit (i.e., 4 bytes), then the address provided to these methods should be aligned to 4 bytes i.e., 0, 4, 8, 12 etc... If an unaligned (intermediate) address is provided, these methods internally align the address and then access the bytes in the memory. </div><div id="ww1150187" class="Body"><span></span>The slave VIP has methods s<span class="Code">vt_axi_slave_agent::write_byte() and svt_axi_slave_agent::read_byte()</span> that can be used to access a single byte of data in slave memory. </div><div id="ww1150189" class="Body"><span></span>You can configure the memory to return some predefined values on the addresses that were not previously written. This can be achieve using the members:</div><div id="ww1150190" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">meminit</span></div><div id="ww1150191" class="L1Bul" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span><span class="Code">set_meminit()</span></div><div id="ww1150192" class="Body"><span></span>These take the enum values of type meminit_enum as inputs. It has the following values. Please see the html class reference doc for details:</div><div id="ww1150193" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>UNKNOWNS</div><div id="ww1150194" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>ZEROES</div><div id="ww1150195" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>ONES</div><div id="ww1150196" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>ADDRESS</div><div id="ww1150197" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>VALUE</div><div id="ww1150198" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>INCR</div><div id="ww1150199" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>DECR</div><div id="ww1150200" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>USER_PATTERN </div><div id="ww1150202" class="H4">Configuring Slave Memory Address Map</div><div id="ww1150203" class="Body"><span></span>To configure the address ranges of slave memory, you need to use the method svt_axi_system_configuration::set_addr_range().</div><div id="ww1150204" class="Body"><span></span>Example: <span class="Code">set_addr_range(0, 32'h0000_0000, 32'h0000_ffff);  //this will set the address range of slave[0].</span> </div><div id="ww1150205" class="Body"><span></span>It is possible to have discontinuous address ranges within a single slave vip. This can be done by calling the set_addr_range() multiple times, like:</div><div id="ww1150206" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">set_addr_range(0, 32'h0000_0000, 32'h0000_ffff);  </span></div><div id="ww1150207" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">set_addr_range(0, 32'h0004_0000, 32'h0004_ffff);  </span></div><div id="ww1150208" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">set_addr_range(0, 32'h0006_0000, 32'h0006_ffff);  </span></div><div id="ww1150210" class="Body"><span></span>It is possible to have a shared memory across multiple slave vips. This can be achieved by creating an object of <span class="Code">svt_mem</span> in the testbench and setting this as slave memory for all the slave vips. This is demonstrated in the VIP example tb_amba_svt_uvm_basic_sys. Check the description of the member <span class="Code">svt_axi_system_configuration::allow_slaves_with_overlapping_addr</span> which has the details. </div><div id="ww1150212" class="Body"><span></span>You can also specify rules for masters accessing shared memory through specific slave interfaces. Please check the article: </div><div id="ww1150213" class="Body" style="color: #0000ff; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span></span><span class="Link"><a href="https://solvnet.synopsys.com/retrieve/2216520.html" target="external_window">https://SolvNetPlus.synopsys.com/retrieve/2216520.html</a></span></div><div id="ww1158701" class="H4">Complex Memory Map Feature in AXI VIP</div><div id="ww1158725" class="Body"><span></span><span style="font-weight: bold">Usage Scenario</span>:</div><div id="ww1158755" class="Body"><span></span>AXI interconnects follow certain rules to route the transactions from master to slave. These rules must be provided to VIP configuration, so that the VIP operates based on the interconnect behavior. The main aspects that needs to be considered are: </div><div id="ww1158756" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>How does the interconnect route transactions from master to slave? </div><div id="ww1158757" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Will there be any transactions that gets terminated within interconnect (for example, interconnect register accesses)?</div><div id="ww1158758" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Does the interconnect translate the address? This means that the address seen on master will be different from the address seen on slave. </div><div id="ww1158759" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Does interconnect VIP behavior change dynamically during the simulation with respect to all the above aspects, based on the state of simulation? </div><div id="ww1158761" class="Body"><span></span>For simple interconnect behaviors, where there is a fixed addr ranges for each slave and the routing of transactions is only based on the address and there is no address translation, then <span class="Code">svt_axi_system_configuration::set_addr_range()</span> can be used to configure the VIP with this information.  </div><div id="ww1158763" class="Body"><span></span>For complex interconnects, where the above described aspects need to be modeled dynamically, the complex memory map feature needs to be used.</div><div id="ww1158968" class="Body"><span></span><span style="font-weight: bold">VIP Components Impacted by this Feature</span>: </div><div id="ww1159024" class="Body"><span></span>Axi system monitor: data_integrity_check, master_slave_xact_data_integrity_check, slave_transaction_routing_check are the main checks impacted by this feature. </div><div id="ww1159025" class="Body"><span></span>Axi interconnect vip: the behavior of interconnect vip wrt routing the transactions, addr translations are impacted by this feature.</div><div id="ww1159018" class="Body"><span></span><span style="font-weight: bold">Use Model</span>:</div><div id="ww1159061" class="Body"><span></span>1. Set <span class="Code">svt_axi_system_configuration::enable_complex_memory_map</span>=1; </div><div id="ww1159063" class="Body"><span></span>2. In the configuration class extended from svt_axi_system_configuration, user needs to implement 2 functions:</div><div id="ww1159064" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">virtual function bit get_dest_global_addr_from_master_addr(</span></div><div id="ww1159065" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">   input  int master_idx,</span></div><div id="ww1159066" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">   input  bit [`SVT_AXI_MAX_ADDR_WIDTH-1:0] master_addr,</span></div><div id="ww1159067" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">   input  bit[`SVT_AMBA_MEM_MODE_WIDTH-1:0] mem_mode = 0,</span></div><div id="ww1159068" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">   input  string requester_name = "", </span></div><div id="ww1159069" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    input  bit ignore_unmapped_addr = 0,</span></div><div id="ww1159070" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    output bit is_register_addr_space,</span></div><div id="ww1159071" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    output bit [`SVT_AXI_MAX_ADDR_WIDTH-1:0] global_addr,</span></div><div id="ww1159072" class="L2Body"><span></span><span class="Code">    input svt_axi_transaction xact)</span>;</div><div id="ww1159073" class="Body"><span></span>&nbsp;</div><div id="ww1159074" class="L2Body"><span></span>This function needs to be implemented only if there is a requirement to perform a transformation of the master address to some global address. In many cases, this function need not be implemented. If not implemented, global address is same as the master address. </div><div id="ww1159075" class="Body"><span></span>&nbsp;</div><div id="ww1159076" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">virtual function bit get_dest_slave_addr_from_global_addr(</span></div><div id="ww1159077" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    input  bit [`SVT_AXI_MAX_ADDR_WIDTH-1:0] global_addr, </span></div><div id="ww1159078" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    input  bit[`SVT_AMBA_MEM_MODE_WIDTH-1:0] mem_mode = 0,</span></div><div id="ww1159079" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    input  string requester_name = "", </span></div><div id="ww1159080" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    input  bit ignore_unmapped_addr = 0,</span></div><div id="ww1159081" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    output bit is_register_addr_space,</span></div><div id="ww1159082" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    output int slave_port_ids[$],</span></div><div id="ww1159083" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    output bit [`SVT_AXI_MAX_ADDR_WIDTH-1:0] slave_addr,</span></div><div id="ww1159084" class="L2Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    input svt_axi_transaction xact);</span></div><div id="ww1159085" class="Body"><span></span>&nbsp;</div><div id="ww1159086" class="L2Body"><span></span>This function gets as input the global_addr computed from previous function (if previous function is not implemented, global_addr will be equal to master_addr), requester_name (uvm tb hierarchy of the master agent from which this xact originated), master transaction handle. </div><div id="ww1159087" class="L2Body"><span></span>Based on these inputs, this function must compute the slave addr, the slave port id in that system where the xact will be routed to, whether the addr falls in register space. These are provided as output arguments. This function returns 1 only if it finds a slave port in this system where this master xact will be routed to. If not, this function returns 0 (indicates that the xact will not be routed to any of the slave in this system). If this is a register config xact (terminates within the interconnect), then is_register_addr_space output argument must be set to 1. The requester_name can also be set to an unique string using <span class="Code">svt_axi_port_configuration::source_requester_name</span>. </div><div id="ww1159090" class="L2Body"><span></span>These two set of functions are executed by the AXI system monitor, interconnect VIP for every master transaction initiated in the system to get the slave transaction routing info and the slave address that will be seen. The description of each argument for these functions can be found in the HTML class reference document. </div><div id="ww1159092" class="Body"><span></span>3. When the complex memory map feature is used, the <span class="Code">svt_axi_system_configuration::set_addr_range()</span> is not used to specify the addr map information. </div><div id="ww1159221" class="Body"><span></span>Example implementation of the complex memory map API:</div><div id="ww1159222" class="Body"><span></span>The following is an example, and must be implemented based on your DUT interconnect behavior. </div><div id="ww1159223" class="Body"><span></span>    <span class="Code">function bit get_dest_slave_addr_from_global_addr (input bit [`SVT_AXI_MAX_ADDR_WIDTH-1:0] global_addr, </span></div><div id="ww1159224" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">                                                       input bit [`SVT_AMBA_MEM_MODE_WIDTH-1:0] mem_mode = 0, </span></div><div id="ww1159225" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">                                                       input string requester_name ="", </span></div><div id="ww1159226" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">                                                       input bit ignore_unmapped_addr = 0, </span></div><div id="ww1159227" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">                                                       output bit is_register_addr_space , </span></div><div id="ww1159228" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">                                                       output int slave_port_ids [$], </span></div><div id="ww1159229" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">                                                       output bit [`SVT_AXI_MAX_ADDR_WIDTH-1:0] slave_addr , </span></div><div id="ww1159230" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">                                                       input svt_axi_transaction xact);</span></div><div id="ww1159231" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      begin </span></div><div id="ww1159232" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        </span></div><div id="ww1159233" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        //the transactions are always routed to slave port 0. The below statement indicates the routing info of interconnect. </span></div><div id="ww1159234" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        slave_port_ids[0]=0; </span></div><div id="ww1159235" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1159236" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        //no addr translation. The below statement indicates any addr translation performed by interconnect. </span></div><div id="ww1159237" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        slave_addr = global_addr; //note that global_addr will be tagged with the non-secure bit if address tagging is enabled.</span></div><div id="ww1159238" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        </span></div><div id="ww1159239" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        //return 1</span></div><div id="ww1159240" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        get_dest_slave_addr_from_global_addr=1;</span></div><div id="ww1159241" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1159242" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        //the below items can be used when applicable. In this example, they are not applicable </span></div><div id="ww1159243" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        /*</span></div><div id="ww1159244" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        * if(xact.port_cfg.port_id == 0 || xact.port_cfg.port_id == 1) begin //transactions from master[0] and master[1] will be routed to slave 0</span></div><div id="ww1159245" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">           slave_port_ids[0]=0;</span></div><div id="ww1159246" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        end</span></div><div id="ww1159247" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        else if(xact.port_cfg.port_id == 2 || xact.port_cfg.port_id == 3) begin //transactions from master[2] and master[3] will be routed to slave 1</span></div><div id="ww1159248" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">          slave_port_ids[0]=1;</span></div><div id="ww1159249" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        end</span></div><div id="ww1159250" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span>&nbsp;</div><div id="ww1159251" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        //register transactions that terminates within the interconnect have to be specified using:</span></div><div id="ww1159252" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        if(global_addr&gt;=reg_space_start_addr &amp;&amp; global_addr&lt;=reg_space_end_addr) begin</span></div><div id="ww1159253" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">          is_register_addr_space=1;</span></div><div id="ww1159254" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">          slave_port_ids[0]=-1;</span></div><div id="ww1159255" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">          get_dest_slave_addr_from_global_addr=1;</span></div><div id="ww1159256" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        end </span></div><div id="ww1159257" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">        */</span></div><div id="ww1159258" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">      end </span></div><div id="ww1159259" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">    endfunction    </span></div><div id="ww1159260" class="Body"><span></span>&nbsp;</div><div id="ww1159261" class="Body"><span></span>This is also demonstrated in the VIP example <span class="Code">tb_axi_svt_uvm_basic_sys</span></div><div id="ww1158751" class="Body"><span></span>&nbsp;</div><div id="ww1150215" class="H4">FIFO Memory</div><div id="ww1150216" class="Body"><span></span>The slave agent has a FIFO memory that can be used for transactions of FIXED burst type. The FIFO memory is represented by class svt_axi_fifo_mem. FIFO memory is instantiated in the slave agent as follows:</div><div id="ww1150217" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_fifo_mem fifo_mem[];</span></div><div id="ww1150218" class="Body"><span></span>This FIFO is configured based on the port configuration parameters svt_axi_port_configuration::num_fifo_mem and svt_axi_port_configuration::fifo_mem_addresses[]. By default, svt_mem will be used for FIXED burst_type also. </div><div id="ww1150219" class="Body"><span></span>Example configuration to create a single FIFO element is as follows: </div><div id="ww1150220" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">this.slave_cfg[0].num_fifo_mem = 1;</span></div><div id="ww1150221" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">this.slave_cfg[0].fifo_mem_addresses = new[1];</span></div><div id="ww1150222" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">this.slave_cfg[0].fifo_mem_addresses[0] = 64'h100;</span></div><div id="ww1150223" class="Body"><span></span>The depth of the FIFO is infinite. The width of the FIFO is same as the data_width of the slave vip. These are not configurable.</div><div id="ww1150224" class="Body"><span></span>The FIFO will be accessed by the slave memory sequence (svt_axi_slave_memory_sequence) only for the FIXED type bursts. You need to use the <span class="Code">svt_axi_slave_memory_sequence</span> to access the FIFO.</div><div id="ww1150225" class="Body"><span></span>For more information on <span class="Code">svt_axi_fifo_mem</span>, see the AXI SVT class reference HTML documentation.</div><div id="ww1150226" class="Body"><span></span>The below article shows how to customize the slave vip behavior for accessing the FIFO memory. It also has an example for accessing FIFO memory for INCR transactions of burst_length=1. </div><div id="ww1150227" class="Body"><span></span>https://SolvNetPlus.synopsys.com/retrieve/1512706.html</div><div id="ww1150229" class="H4">AXI System Monitor Considerations</div><div id="ww1150230" class="Body"><span></span>The axi system monitor <span class="Code">data_integrity_checks</span> are based on the slave memory updates. So you need to use the <span class="Code">slave_mem_response_sequence</span> on the active slave vips. A passive slave vip needs to be connected to the interfaces where there is a DUT. The memory in the passive slave vip will be updated based on the activity observed on the interface. </div><div id="ww1142885" class="H3">FIFO Memory</div><div id="ww1142927" class="Body"><span></span>AXI VIP provides FIFO memory represented by class <span class="Code">svt_axi_fifo_mem</span>. FIFO memory is instantiated in the slave agent as follows:</div><div id="ww1142928" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_fifo_mem fifo_mem[];</span></div><div id="ww1142930" class="Body"><span></span>This FIFO is configured based on the port configuration parameters <span class="Code">num_fifo_mem </span><span class="Code">and</span><span class="Code"> fifo_mem_addresses</span>.</div><div id="ww1142932" class="Body"><span></span>Example configuration to create a single FIFO element is as follows:</div><div id="ww1142933" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code"> this.slave_cfg[0].num_fifo_mem = 1;</span></div><div id="ww1142934" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code"> this.slave_cfg[0].fifo_mem_addresses = new[1];</span></div><div id="ww1142935" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code"> this.slave_cfg[0].fifo_mem_addresses[0] = 64'h100;</span></div><div id="ww1142937" class="Body"><span></span>The depth of the FIFO is infinite. The width of the FIFO is same as the data width of the interface. These are not configurable.</div><div id="ww1142938" class="Body"><span></span>The FIFO will be accessed by the slave memory sequence (<span class="Code">svt_axi_slave_memory_sequence</span>) only for the FIXED type bursts. You need to use the <span class="Code">svt_axi_slave_memory_sequence</span> to access the FIFO.</div><div id="ww1142923" class="Body"><span></span>For more information on <span class="Code">svt_axi_fifo_mem</span>, see the AXI SVT class reference HTML documentation.</div><div id="ww1135380" class="H3">Interconnect Env</div><div id="ww1142917" class="Body"><span></span>The Interconnect Env routes the AXI transactions between multiple masters and slaves. The Interconnect Env contains configurable number of master and slave ports. The number of master and slave ports of the Interconnect Env can be controlled through interconnect configuration. The Interconnect Env routes the transactions from masters to slaves based on address map. Multiple address ranges can be specified for a single slave. The Interconnect Env can be configured to operate in active mode and passive mode.</div><div id="ww1132623" class="Body"><span></span>In the Interconnect Env component, the ports which are connected to master components are referred to as Interconnect Slave ports and ports which are connected to slave components are referred to as Interconnect Master ports. More details on Interconnect master and slave ports are provided in the following sections.</div><div id="ww1142703" class="Body"><span></span>The Interconnect VIP waits for the entire write data (from the master) to arrive before it initiates a transaction on the slave. The Interconnect VIP is a functionally ideal interconnect which comprises of several AXI masters and slaves. It is not designed to be the most efficient in terms of bandwidth utilization, performance and hence forth (which obviously an RTL is designed for). So for a write transaction, the Interconnect waits for the <span class="Code">wlast</span> to arrive before it starts sending the corresponding <span class="Code">awvalid</span> to the slave. </div><div id="ww1142699" class="TableBody"><span></span>&nbsp;</div><div class="ww_skin_page_overflow"><table class="Note" style="width: 540.75024pt" cellspacing="0" summary=""><tr><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 77.99976pt"><div id="ww1166727" class="Z_Note"><span><img src="Note.gif" alt="*" border="0" width="100" height="27" /></span>&nbsp;</div></td><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 462.75048pt"><div id="ww1166729" class="TableBullet"><span class="WebWorks_Number" style="width: 14.4pt"><span>•	</span></span>For more information on Interconnect features related to ACE protocol, see <span class="Link"><a href="../axi_svt_uvm_user_guide/03_DataObjects.03.10.html#ww1133405" title="Support for ACE protocol in AXI Interconnect Env">“Support for ACE protocol in AXI Interconnect Env”</a></span>.</div></td></tr></table></div><div id="ww1132625" class="H4">Interconnect Env Master Ports</div><div id="ww1132626" class="Body"><span></span>The master ports of the Interconnect Env drive the slave components in the system. The master ports within the interconnect Env are represented by Interconnect Master Agent class <span class="Code">svt_axi_ic_master_agent</span>. The Interconnect Master Agent is configured using a port configuration, which is available in the interconnect configuration. </div><div id="ww1132627" class="Body"><span></span>The Driver within the Interconnect Master Agent drives the AXI transactions towards the slave component connected to the interconnect master port. The Driver and port Monitor components within Interconnect Master Agent call callback methods at various phases of execution of the AXI transaction. Details of callbacks are covered in later sections. At the end of each transaction on the Interconnect Master port, the port monitor within the Interconnect Master Agent provides the completed transaction object from its analysis port, in active and passive mode.</div><div id="ww1132629" class="H4">Interconnect Env Slave Ports</div><div id="ww1132630" class="Body"><span></span>The slave ports of the interconnect Env are driven by the master components in the system. The slave ports within the interconnect Env are represented by Interconnect Slave Agent class <span class="Code">svt_axi_ic_slave_agent</span>. The Interconnect Slave Agent is configured using a port configuration, which is available in the interconnect configuration.</div><div id="ww1132703" class="Body"><span></span>The Driver within the Interconnect Slave Agent responds to the AXI transactions driven by the master component connected to the interconnect slave port. The Driver and port Monitor components within Interconnect Slave Agent call callback methods at various phases of execution of the AXI transaction. Details of callbacks are covered in later sections. At the end of each transaction on the Interconnect Slave port, the port monitor within the Interconnect Slave Agent provides the completed transaction object from its analysis port, in active and passive mode.</div><div id="ww1137891" class="H4">Connecting Interconnect Env to the DUT</div><div id="ww1135734" class="Body"><span></span>The number of master and slave ports of the Interconnect Env is configured using configuration members <span class="Code">svt_axi_interconnect_configuration::num_ic_master_ports</span> and <span class="Code">svt_axi_interconnect_configuration::num_ic_slave_ports</span> respectively. If the System Env also contains master and slave VIP components in addition to the Interconnect Env, these master and slave VIP components get automatically connected to the lowest port indices of the Interconnect Env. The number of master and slave VIP components in system Env is configured using configuration members <span class="Code">svt_axi_system_configuration::num_masters</span> and <span class="Code">svt_axi_system_configuration::num_slaves</span> respectively. </div><div id="ww1135736" class="Body"><span></span>For example, if <span class="Code">svt_axi_interconnect_configuration::num_ic_slave_ports = 3</span>, and svt_axi_system_configuration::num_masters = 2, then master VIP components would automatically connect to slave port 0 and 1 of the Interconnect Env component. Slave port 2 of Interconnect Env can be connected to Master DUT. In such a case, the port monitor in Slave port 2 of the Interconnect Env will continue to carry out the passive functionality like protocol checking.</div><div id="ww1135738" class="Body"><span></span>It is recommended to configure the number of master or slave VIP components in the System Env to match the number of slave or master ports of Interconnect Env. Then, for the Interconnect Env ports which are expected to be connected to the DUT, configure the corresponding Master or Slave VIP components in passive mode. That way, even if you replace Interconnect Env with Interconnect RTL, the passive monitors would continue to function.</div><div id="ww1135725" class="Body"><span></span>For example, if Interconnect Env has 3 slave ports (port 0,1,2), and you need Master VIP components to drive port 0 and 1, and Master DUT to drive port 2. </div><div id="ww1138074" class="Body"><span></span>In this case, configure the number of masters in System Env to 3 (<span class="Code">svt_axi_system_configuration::num_masters = 3</span>). Configure Master VIP 0 and Master VIP 1 as active, and Master VIP 2 as passive (as Master DUT would drive this port).</div><div id="ww1135776" class="H4">Configuration Consistency Checks</div><div id="ww1135777" class="Body"><span></span>When the VIP is configured to use the interconnect model by setting the configuration parameter <span class="Code">svt_axi_system_configuration::use_interconnect</span>, the configuration of master or slave VIP components must match configuration of interconnect ports to which they connect. The VIP does a consistency check between the port configuration of master or slave VIP components and corresponding interconnect port configuration. The consistency checks ensure that:</div><div id="ww1135779" class="Body"><span></span><span class="Code">sys_cfg.master_cfg[&lt;master_num&gt;].&lt;port_config_param&gt;</span> matches <span class="Code">sys_cfg.ic_cfg.slave_cfg[&lt;master_num&gt;].&lt;port_config_param&gt;</span></div><div id="ww1135780" class="Body"><span></span><span class="Code">sys_cfg.slave_cfg[&lt;slave_num&gt;].&lt;port_config_param&gt; </span>matches <span class="Code">sys_cfg.ic_cfg.master_cfg[&lt;slave_num&gt;].&lt;port_config_param&gt;</span></div><div id="ww1135782" class="Body"><span></span>VIP checks the consistency of below port configuration parameters between master or slave VIP components and corresponding Interconnect port configurations:</div><div id="ww1135783" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">addr_width</span></div><div id="ww1135784" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">addr_user_width</span></div><div id="ww1135785" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">data_width</span></div><div id="ww1135786" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">data_user_width</span></div><div id="ww1135787" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">resp_user_width</span></div><div id="ww1135788" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">snoop_data_width</span></div><div id="ww1135789" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">wysiwyg_enable</span></div><div id="ww1135790" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">use_separate_rd_wr_chan_id_width</span></div><div id="ww1135791" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">id_width</span></div><div id="ww1135792" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">read_chan_id_width</span></div><div id="ww1135793" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">write_chan_id_width</span></div><div id="ww1135794" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">num_outstanding_xact</span></div><div id="ww1135795" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">num_read_outstanding_xact</span></div><div id="ww1135796" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">num_write_outstanding_xact</span></div><div id="ww1135797" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">num_outstanding_snoop_xact</span></div><div id="ww1135798" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">exclusive_access_enable</span></div><div id="ww1135799" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">barrier_enable</span></div><div id="ww1135800" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">dvm_enable</span></div><div id="ww1135801" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">max_num_exclusive_access</span></div><div id="ww1135802" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">write_data_interleave_depth</span></div><div id="ww1135803" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">serial_read_write_access</span></div><div id="ww1138081" class="Body"><span></span>&nbsp;</div><div id="ww1138088" class="Body"><span></span>If consistency check fails, VIP issues the following message:</div><div id="ww1135870" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">UVM_FATAL /…/svt_axi_system_env.svp(189) @ 0ns: uvm_test_top.env.axi_env [build_phase] Invalid configuration passed. Please pass a valid svt_axi_system_configuration object or derived object.</span></div><div id="ww1132705" class="H3">System Environment</div><div id="ww1118854" class="Body"><span></span>The AXI System Env encapsulates the Master agents, Slave Agents, System Sequencer, Interconnect Env and the system configuration. The number of configured Master and Slave Agents is based on the system configuration provided by you. In the build phase, the System Env builds the Master agents, Slave agents and Interconnect Env. After the Master and Slave Agents are built, they are configured by System Env by using the port configuration information available in the system configuration.</div><div id="ww1121760" class="FigureTitle"><span class="WebWorks_Number" style="width: 63pt"><span>Figure&nbsp;3‑3	</span></span>Usage With System Environment</div><div class="ww_skin_page_overflow"><div id="ww1127278" class="Anchor"><img class="Default" src="../axi_svt_uvm_user_guide/images/3.3_usage_systemenv.png" width="100%" style="display: block; left: 0.0pt; max-height: 357px; max-width: 523px; top: 0.0pt" alt="" title="" /></div></div><div id="ww1127280" class="H4">System Sequencer</div><div id="ww1138114" class="Body"><span></span>AXI System sequencer is a virtual sequencer with references to each Master and Slave Sequencers in the system. The System Sequencer is created in the build phase of the System Env. The system configuration is provided to the System Sequencer. The System Sequencer can be used to synchronize between the sequencers in Master and Slave Agents.</div><div id="ww1135227" class="H3">System Monitor</div><div id="ww1135262" class="Body"><span></span>The System Monitor component is instantiated within the AXI System Env component. The System Monitor performs system-level checks across the master and slave ports within the system. The system monitor is enabled by setting the system configuration class member <span class="Code">svt_axi_system_configuration::system_monitor_enable</span>.</div><div id="ww1135230" class="H4">System Checks</div><div id="ww1135231" class="Body"><span></span>The System checks supported by System Monitor fall under the following categories:</div><div id="ww1135232" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Checks for mapping between ACE coherent transaction and snoop transactions</div><div id="ww1135233" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Checks for sequencing between ACE coherent and snoop transactions</div><div id="ww1135234" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Checks for response to coherent transactions based on response to snoop transactions</div><div id="ww1136765" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Data integrity between ACE coherent transaction data and snoop transaction data</div><div id="ww1136766" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Data integrity checks for transactions that span across multiple cachelines such as READONCE and WRITEUNIQUE transactions</div><div id="ww1136767" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Data integrity between cache of all masters</div><div id="ww1135237" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Data integrity between cache of all masters and slave memory</div><div id="ww1135585" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Data Integrity across Interconnect master and slave ports</div><div id="ww1135575" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Transaction routing</div><div id="ww1135239" class="Body"><span></span>There are certain checks which might be design specific. System Monitor provides hooks in the form of callbacks, which can be used by you to perform such design specific checks. </div><div id="ww1135218" class="Body"><span></span>For the list of system checks and callbacks, see the AXI VIP Class reference HTML documentation.</div><div id="ww1118983" class="H3">Active and Passive Mode</div><div id="ww1121601" class="Body"><span></span><span class="Link"><a href="../axi_svt_uvm_user_guide/03_DataObjects.03.03.html#ww1121611" title="AXI VIP in an UVM Environment">Tables&nbsp;3‑1</a></span> lists the behavior of Master and Slave Agents in active and passive modes.</div><div class="ww_skin_page_overflow"><table class="H_002bVRules" style="width: 504pt" cellspacing="0" summary=""><caption class="TableTitle" style="caption-side: top"><div id="ww1121611" class="TableTitle"><span class="WebWorks_Number" style="width: 66.528pt"><span>Table&nbsp;3‑1	</span></span>Agents in Active and Passive Mode &nbsp;</div></caption><tr><th style="border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 2.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: bottom; width: 252pt"><div id="ww1121615" class="TableHeading"><span></span>Component behavior in active mode</div></th><th style="border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 2.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: bottom; width: 252pt"><div id="ww1121617" class="TableHeading"><span></span>Component behavior in passive mode</div></th></tr><tr><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 2.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1121619" class="TableBody"><span></span>In active mode, Master and Slave components generate transactions on the signal interface.</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 2.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1121621" class="TableBody"><span></span>In passive mode, master and slave components do not generate transactions on the signal interface. These components only sample the signal interface.</div></td></tr><tr><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1121623" class="TableBody"><span></span>Master and Slave components continue to perform passive functionality of coverage and protocol checking. You can enable/disable this functionality through configuration.</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1123774" class="TableBody"><span></span>Master and Slave components monitor the input and output signals, and perform passive functionality such as coverage and protocol checking. You can enable/disable this functionality through configuration options.</div></td></tr><tr><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1121627" class="TableBody"><span></span>The Port Monitor within the component performs protocol checks only on sampled signals. That is, it does not perform checks on the signals that are driven by the agent. This is because when the agent is driving an exception (exceptions are not supported in this release) the Monitor should not flag an error, since it knows that it is driving an exception. Exception means error injection.</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1121629" class="TableBody"><span></span>The port monitor within the component performs protocol checks on all signals. In passive mode, signals are considered as input signals.</div></td></tr><tr><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1121631" class="TableBody"><span></span>The delay values reported in the AXI transaction provided by the Master and Slave component, are the values provided by you, and not the sampled delay values.</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1123759" class="TableBody"><span></span>The delay values reported in the AXI transaction provided by the Master and Slave Agent, are the sampled delay values on the bus.</div></td></tr><tr><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1132294" class="TableBody"><span></span>Interconnect component routes transactions from masters to slaves.</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1132296" class="TableBody"><span></span>Interconnect component does not route the transactions from masters to slaves.</div></td></tr><tr><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1132290" class="TableBody"><span></span>Interconnect component continues to perform passive functionality of coverage and protocol checking on all the master and slave ports. You can enable/disable this functionality through configuration.</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1132292" class="TableBody"><span></span>Interconnect component monitors the input and output signals on all the master and slave ports, and performs passive functionality of coverage and protocol checking. You can enable/disable this functionality through configuration.</div></td></tr></table></div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer><input type="hidden" id="preserve_unknown_file_links" value="false"></input></body></html>