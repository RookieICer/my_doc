<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Design Specific Coherent to Snoop Transaction Association</title><link rel="Prev" href="06_using_AXI_VIP.10.21.html" title="Previous" /><link rel="Next" href="06_using_AXI_VIP.10.23.html" title="Next" /><link rel="StyleSheet" href="css/06_using_AXI_VIP.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/06_using_AXI_VIP_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/axi_svt_uvm_user_guide/06_using_AXI_VIP.10.22.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');

            // escape the '#' character
            //
            redirect_url += '%23' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pdGE6JhFaezh7zQhX1RpSCw" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/axi_svt_uvm_user_guide/06_using_AXI_VIP.10.22.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="01_Intro.01.1.html">AXI UVM User Guide</a> : <a class="WebWorks_Breadcrumb_Link" href="06_using_AXI_VIP.10.01.html#1114177"> Using AXI Verification IP</a> : Design Specific Coherent to Snoop Transaction Association</div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a><a class="ww_behavior_email ww_skin ww_skin_email" title="E-Mail" href="#" target="external_window">&nbsp;</a></div></header><div id="ww1114177" class="H2">Design Specific Coherent to Snoop Transaction Association</div><div id="ww1114206" class="Body"><span></span>The AXI system monitor associates coherent transactions to snoop transactions. Since there is no implication of the snoops for the corresponding coherent transactions on the interface, hence the information is derived from the activities performed on the interface. There are many DUT specific scheduling behaviours that impact the behaviour in which the system monitor associates coherent transactions to snoop transactions. The snoop transactions can be determined by providing the schedule information of the NOC, if the signals within the NOC are tapped and corresponding transactions provided to the system monitor. </div><div id="ww1114467" class="H3">Solution Description</div><div id="ww1114496" class="Body"><span></span>The solution description for design specific coherent to snoop transaction is described in the following example. For example, when the VIP cannot associate snoops to coherent transactions appropriately. Consider the following steps:</div><div id="ww1114497" class="Body"><span></span>&nbsp;</div><div class="ww_skin_page_overflow"><table class="Note" style="width: 540.75024pt" cellspacing="0" summary=""><tr><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 77.99976pt"><div id="ww1123629" class="Z_Note"><span><img src="Note.gif" alt="*" border="0" width="100" height="27" /></span>&nbsp;</div></td><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 462.75048pt"><div id="ww1123631" class="TableBody"><span></span>A topology where master[0] is a full ACE port and master[1] is an ACE-LITE port.</div></td></tr></table></div><div id="ww1114498" class="L1Num"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>The DUT is configured to generate a CLEANINVALID snoop for READONCE and CLEANINVALID/MAKEINVALID for WRITEUNIQUE transactions.</div><div id="ww1114700" class="L1Num"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Master[1] issues a READONCE transaction. While this is outstanding a WRITEUNIQUE is also issued from master[1] to the same address.</div><div id="ww1114705" class="L1Num"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>The snoops (CLEANINVALID snoop) corresponding to the READONCE are sent first to master[0], followed by those (MAKEINVALID snoop) corresponding to WRITEUNIQUE.</div><div id="ww1114711" class="L1Num"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>The WRITEUNIQUE completes first, after which, the system monitor tries to associate the snoops.</div><div id="ww1114730" class="L1Num"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>The system monitor associates the CLEANINVALID snoop to WRITEUNIQUE transaction.</div><div id="ww1114753" class="L1Num"><span class="WebWorks_Number" style="width: 18pt"><span>6.	</span></span>After the READONCE completes, it tries to associate the MAKEINVALID, but it cannot because MAKEINVALID is not configured as a valid snoop for READONCE transactions.</div><div id="ww1114504" class="Body"><span></span>The system monitor tries to associate snoops in the order in which the responses complete. However, this is not the scheduling sequence maintained by the NOC. If there is visibility into the scheduling of the NOC, then the system monitor can use that information. The signals can be connected from the output of the scheduler to a VIP and provided to the corresponding transactions of the system monitor using a TLM port. The system monitor uses this information to correlate transactions. In the example, the output of the scheduler delivers the READONCE transaction followed by the WRITEUNIQUE transaction. This information is used by the system monitor to determine the READONCE transaction previously associated before the WRITEUNIQUE transaction, thereby verifying the snoops ahead in the queue are associated to the transactions which are ahead as per the schedulerâ€™s output to maintain the sequence.</div><div id="ww1115140" class="H3">User Interface</div><div id="ww1115141" class="Body"><span></span>The <span class="Code">svt_axi_port_monitor</span> class has the following API added to push transactions from the scheduler to the port monitors. This is similar to the existing API (<span class="Code">svt_axi_port_monitor::push_coherent_xact_to_port_monitor</span>)</div><div id="ww1115142" class="Body"><span></span>&nbsp;</div><div id="ww1115143" class="Body"><span></span>/** Task that can be used to drive an exernal coherent transaction to the port monitor. This transaction must be sampled from the output received from the scheduler within the interconnect, since the transaction sequence are used as input for this API and is used by the system monitor to associate snoops to coherent transactions */</div><div id="ww1115144" class="Body"><span></span>  <span class="Code">extern virtual function void push_coherent_xact_from_ic_scheduler_to_port_monitor(svt_axi_transaction xact)</span>;</div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer><input type="hidden" id="preserve_unknown_file_links" value="false"></input></body></html>