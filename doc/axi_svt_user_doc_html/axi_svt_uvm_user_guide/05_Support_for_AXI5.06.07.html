<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Read Data Chunking</title><link rel="Prev" href="05_Support_for_AXI5.06.06.html" title="Previous" /><link rel="Next" href="05_Support_for_AXI5.06.08.html" title="Next" /><link rel="StyleSheet" href="css/05_Support_for_AXI5.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/05_Support_for_AXI5_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/axi_svt_uvm_user_guide/05_Support_for_AXI5.06.07.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');

            // escape the '#' character
            //
            redirect_url += '%23' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pZg_002bH3jvKq9NMASv6NPmqmA" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/axi_svt_uvm_user_guide/05_Support_for_AXI5.06.07.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="01_Intro.01.1.html">AXI UVM User Guide</a> : <a class="WebWorks_Breadcrumb_Link" href="05_Support_for_AXI5.06.01.html#1138089"> Support for AXI5 </a> : Read Data Chunking</div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a><a class="ww_behavior_email ww_skin ww_skin_email" title="E-Mail" href="#" target="external_window">&nbsp;</a></div></header><div id="ww1138089" class="H2">Read Data Chunking</div><div id="ww1138163" class="Body"><span></span><span style="font-weight: bold">Unsupported features</span>: </div><div id="ww1138164" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>	Burst_type WRAP. </div><div id="ww1138165" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Read data chunking feature under wysiwyg_enable=1</div><div id="ww1138166" class="Body"><span></span>&nbsp;</div><div id="ww1138167" class="Body"><span></span><span style="font-weight: bold">Limitation</span>: </div><div id="ww1138168" class="Body"><span></span>Rchunkv control is supported for the Slave VIP and not Master VIP. This feature is guarded by a macro <span class="Code">SVT_RCHUNKV_ENABLE</span>  </div><div id="ww1138171" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">At Interface Level</span></div><div id="ww1138172" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_master_if     logic                                         archunken;</span></div><div id="ww1138173" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_master_if     logic                                         rchunkv;</span></div><div id="ww1138174" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_master_if     logic[`SVT_AXI_MAX_CHUNK_NUM_WIDTH-1:0]       rchunknum;</span></div><div id="ww1138175" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_master_if     logic[`SVT_AXI_MAX_CHUNK_STROBE_WIDTH-1:0]    rchunkstrb;</span></div><div id="ww1138176" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_slave_if.svi   logic                                         archunken;</span></div><div id="ww1138177" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_slave_if.svi   logic                                         rchunkv;</span></div><div id="ww1138178" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_slave_if.svi   logic[`SVT_AXI_MAX_CHUNK_NUM_WIDTH-1:0]       rchunknum;</span></div><div id="ww1138179" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">svt_axi_slave_if.svi   logic[`SVT_AXI_MAX_CHUNK_STROBE_WIDTH-1:0]    rchunkstrb;</span></div><div id="ww1138181" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">At Configuration Level</span></div><div id="ww1138182" class="Body"><span></span><span class="Code">svt_axi_port_configuration::rdata_chunking_enable</span>  needs to set as 1 for given master/slave agent to enable read data chunking feature to  support  for given port.</div><div id="ww1138184" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">rand int rchunknum_width = `SVT_AXI_MAX_CHUNK_NUM_WIDTH;    is used to set width of the rchunknum signal. </span></div><div id="ww1138185" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">rand int rchunkstrb_width = `SVT_AXI_MAX_CHUNK_STROBE_WIDTH;  is used to set width of the rchunkstrb signal.</span></div><div id="ww1138187" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">At Transaction Level</span></div><div id="ww1138188" class="Body"><span></span>  <span class="Code">rand bit archunken</span> = 0;  Defines the chunk enable of a AXI5 to enable <span class="Code">read_data_chunking</span>. When enable, slave will send read data  in 128bits of chunk in random order. If disabled, slave will send read data without chunking as per AXI5 protocol.</div><div id="ww1138190" class="Body"><span></span><span class="Code">rand bit rchunkv </span>= 0;    This signifies the validity of the <span class="Code">rchunkstrb</span> and <span class="Code">rchunknum</span> . <span class="Code">rchunkv</span> when set '1' indicates that read data will be sent in chunks. If this bit is disabled then the read data will not be sent in chunks as <span class="Code">rchunkstrb</span> and <span class="Code">rchunknum</span> is not valid. The value of this bit is driven on the interface signal <span class="Code">rchunkv</span>. This is applicable for the Slave VIP. </div><div id="ww1138194" class="Body"><span></span><span class="Code">rand bit [`SVT_AXI_MAX_CHUNK_STROBE_WIDTH -1 : 0] rchunkstrb[];</span> Array of read chunk strobe. Each bit of <span class="Code">rchunkstrb</span> represents 128bits of read data.</div><div id="ww1138197" class="Body"><span></span><span class="Code">rand bit [`SVT_AXI_MAX_CHUNK_NUM_WIDTH -1 : 0] rchunknum[];</span> Indicates that the data chunk number is being transferred.</div><div id="ww1138198" class="Body"><span></span>  <span class="Code">int  current_data_chunk_trf_num = 0;</span>   This is a counter which is incremented for every chunk of databeat. Useful when user would try to access the transaction class to know its current state during chunking. This represents the chunk databeat transfer number.</div><div id="ww1138202" class="Body"><span></span><span class="Code">rand rchunkstrb_pattern_enum rchunkstrb_pattern = RCHUNKSTRB_WALKING_ONES;</span> variable <span class="Code">rchunkstrb_pattern</span> indicates the pattern generated in the rchunkstrb[].</div><div id="ww1138204" class="Body"><span></span><span class="Code">extern function void get_chunkstrb_for_wysiwyg_format(ref bit[`SVT_AXI_MAX_CHUNK_STROBE_WIDTH -1:0] rchunkstrb[]);</span>  Ensures that only valid lanes have chunkstrb asserted. In wysisyg format the constraints leave data[] and rchunkstrb[] open. This function is called in <span class="Code">post_randomize</span> to make sure that <span class="Code">chunkstrb</span> is asserted only for valid lanes  </div><div id="ww1138206" class="Body"><span></span><span class="Code">extern function int is_unaligned_address();</span>    Indicates the unaligned address</div><div id="ww1138208" class="Body"><span></span>  </div><div id="ww1138209" class="Body"><span></span> <span class="Code"> extern function int get_valid_chunks();</span>  provides the valid number of chunks that are associated with a transaction.</div><div id="ww1138211" class="Body"><span></span><span class="Code">extern function void get_rchunkstrb_for_address(ref bit[`SVT_AXI_MAX_CHUNK_STROBE_WIDTH -1:0] rchunkstrb[],ref bit [`SVT_AXI_MAX_CHUNK_NUM_WIDTH-1:0] rchunknum []); </span>   ensures that only chunks from valid lanes have chunkstrb asserted. </div><div id="ww1138212" class="Body"><span></span>    Since the constrains leave <span class="Code">rchunknum[]</span> and <span class="Code">rchunkstrb[]</span> open. This function is called in <span class="Code">post_randomize</span> to make sure that <span class="Code">chunkstrb</span> is asserted only for valid lanes in walking ones pattern for both aligned and unaligned address.</div><div id="ww1138214" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 4.0pt; margin-top: 4.0pt; text-transform: none; vertical-align: baseline"><span></span><span class="Code">extern virtual function  void calcluate_rddata_rchunkstrb_values(ref bit [`SVT_AXI_MAX_CHUNK_STROBE_WIDTH-1:0] rchunkstrb[], ref bit [`SVT_AXI_MAX_CHUNK_NUM_WIDTH-1:0] rchunknum[] );   calulates rchunkstrb[] and rchunknum[]</span></div><div id="ww1138159" class="Body"><span></span>&nbsp;</div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer><input type="hidden" id="preserve_unknown_file_links" value="false"></input></body></html>