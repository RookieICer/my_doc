<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Support for ACE Protocol in AXI Master Agent</title><link rel="Prev" href="03_DataObjects.03.07.html" title="Previous" /><link rel="Next" href="03_DataObjects.03.09.html" title="Next" /><link rel="StyleSheet" href="css/03_DataObjects.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/03_DataObjects_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/axi_svt_uvm_user_guide/03_DataObjects.03.08.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');

            // escape the '#' character
            //
            redirect_url += '%23' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pRKG8AsrVBg600rFHXLjJSA" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/axi_svt_uvm_user_guide/03_DataObjects.03.08.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="01_Intro.01.1.html">AXI UVM User Guide</a> : <a class="WebWorks_Breadcrumb_Link" href="03_DataObjects.03.01.html#1133606"> General Concepts</a> : Support for ACE Protocol in AXI Master Agent</div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a><a class="ww_behavior_email ww_skin ww_skin_email" title="E-Mail" href="#" target="external_window">&nbsp;</a></div></header><div id="ww1133606" class="H2">Support for ACE Protocol in AXI Master Agent</div><div id="ww1133607" class="Body"><span></span>The AXI VIP supports the ARM ACE protocol specification. This support is provided in the axi_master_agent_svt component. The axi_master_agent_svt component contains a snoop response generator, which responds back to the snoop transactions. It also contains a cache model.</div><div id="ww1133413" class="Body"><span></span>The axi_master_agent_svt component supports the following:</div><div id="ww1133414" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Generating coherent transactions.</div><div id="ww1133415" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Responding to snoop transactions.</div><div id="ww1133416" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Allocating data and updating state of the cache model, based on generated coherent transactions and received snoop transactions.</div><div id="ww1133417" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Back door access to the cache in the master.</div><div id="ww1133418" class="H3">Support for Coherent Transactions</div><div id="ww1133419" class="Body"><span></span>When the svt_axi_port_configuration::axi_interface_type is AXI_ACE, all transactions are of type COHERENT, that is, svt_axi_transaction::xact_type is COHERENT. You will set the different types of coherent transactions in svt_axi_transaction::coherent_xact_type. </div><div id="ww1139764" class="Body"><span></span>The following section describes the behavior of the AXI master VIP for each of the coherent transaction types. See ACE protocol specification for a list of start states and expected end states for each of the transaction types. State transitions of the cache model conform to those specified in the ACE protocol specification.</div><div id="ww1133420" class="H4">ReadNoSnoop</div><div id="ww1133421" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">Before transmission:</span></div><div id="ww1133422" class="Body"><span></span>A ReadNoSnoop transaction is always sent out on the bus.</div><div id="ww1133423" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">After read response completion and before RACK transmission:</span></div><div id="ww1133424" class="Body"><span></span>No allocation is made.</div><div id="ww1133425" class="H4">ReadOnce</div><div id="ww1133426" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">Before Transmission:</span></div><div id="ww1133427" class="Body"><span></span>A ReadOnce transaction is always sent out on the bus.</div><div id="ww1133428" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">After read response completion and before RACK transmission:</span></div><div id="ww1133429" class="Body"><span></span>No Allocation is made.</div><div id="ww1138000" class="H4">ReadClean/ReadShared/ReadNotSharedDirty</div><div id="ww1133431" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">Before Transmission:</span></div><div id="ww1133432" class="Body"><span></span>If cache line state is anything other than Invalid, the transaction is not sent out on the bus. Instead, the data in cache is returned in member svt_axi_transaction::data[]. Otherwise, the transaction is transmitted on the bus. </div><div id="ww1133433" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">After read response completion and before RACK transmission:</span></div><div id="ww1133434" class="Body"><span></span>Cache allocation is made based on the data available in svt_axi_transaction::data[].</div><div id="ww1133435" class="H4">ReadUnique</div><div id="ww1133436" class="Body"><span></span>Such a transaction is normally used when a master wants to do a partial write and it does not have a copy of the line. So it gets a unique copy and then stores into the line. </div><div id="ww1133437" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">Before transmission:</span></div><div id="ww1133438" class="Body"><span></span>If cache line state is anything other than Invalid, the transaction is not sent out on the bus. Instead, the data in cache is returned in member svt_axi_transaction::data[]. Otherwise, the transaction is sent out on the bus. </div><div id="ww1133439" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">After read response completion and before RACK transmission:</span></div><div id="ww1133440" class="Body"><span></span>If svt_axi_transaction::allocate_in_cache is set, cache is allocated. The data to be allocated must be set in member svt_axi_transaction::cache_write_data. The value of member svt_axi_transaction::cache_write_data[] can be programmed upfront, or can also be updated in the pre_cache_update callback. If the svt_axi_transaction::allocate_in_cache bit is not set, the data available in the svt_axi_transaction::data[] field is stored in the cache.</div><div id="ww1133441" class="H4">CleanUnique</div><div id="ww1133442" class="Body"><span></span>This transaction is normally used when a master wants to do a partial write and has a copy of the line. So it invalidates the line in all other masters and causes dirty data to be written to memory.</div><div id="ww1133443" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">Before transmission:</span></div><div id="ww1133444" class="Body"><span></span>Transaction is transmitted only if the state of cache line is NOT Unique.</div><div id="ww1133445" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">After read response completion and before RACK transmission:</span></div><div id="ww1133446" class="Body"><span></span>If svt_axi_transaction::allocate_in_cache is set, cache is allocated. The data to be allocated must be set in member svt_axi_transaction::cache_write_data. The value of member svt_axi_transaction::cache_write_data[] can be programmed upfront, or can also be updated in the pre_cache_update callback.</div><div id="ww1138315" class="H4">CleanShared</div><div id="ww1133448" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">Before transmission:</span></div><div id="ww1144029" class="Body"><span></span>If the line was in a UniqueClean state, the transaction is not transmitted. If the line is in a dirty state, the VIP automatically generates a <span class="Code">WRITEBACK</span> or <span class="Code">WRITECLEAN</span> transaction to first write data to memory. The property <span class="Code">svt_axi_transaction::is_auto_generated</span> is set for the <span class="Code">WRITEBACK/WRITECLEAN</span> transaction which is auto generated by the VIP. After the <span class="Code">WRITEBACK/WRITECLEAN</span> transaction is sent, the <span class="Code">CLEANSHARED</span> transaction is sent.</div><div id="ww1133450" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">After read response completion and before RACK transmission:</span></div><div id="ww1133451" class="Body"><span></span>There is no change in the data in cache. Only the state of the cache line changes.</div><div id="ww1138015" class="H4">CleanInvalid</div><div id="ww1133453" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">Before transmission:</span></div><div id="ww1144041" class="Body"><span></span>If the line is in a dirty state, the VIP automatically generates a <span class="Code">WRITEBACK</span> or <span class="Code">WRITECLEAN</span> transaction to first write data to memory. The property <span class="Code">svt_axi_transaction::is_auto_generated</span> is set for the <span class="Code">WRITEBACK/WRITECLEAN</span> transaction which is auto generated by the VIP. After the <span class="Code">WRITEBACK/WRITECLEAN</span> transaction is sent, the <span class="Code">CLEANINVALID</span> transaction is sent.</div><div id="ww1133455" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">After read response completion and before RACK transmission:</span></div><div id="ww1133456" class="Body"><span></span>No allocation in cache is made.</div><div id="ww1133457" class="H4">MakeUnique</div><div id="ww1133458" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">Before Transmission:</span></div><div id="ww1133459" class="Body"><span></span>If line is already in unique state, transaction is not transmitted on the bus. Else, transaction is transmitted.</div><div id="ww1136910" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">After read response completion and before RACK transmission:</span></div><div id="ww1133461" class="Body"><span></span>Model automatically allocates the cache line, and stores the data in member svt_axi_transaction::cache_write_data[] into the cache line. The value of member svt_axi_transaction::cache_write_data[] can be programmed upfront, or can also be updated in the pre_cache_update callback.</div><div id="ww1133462" class="H4">MakeInvalid</div><div id="ww1133463" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">Before Transmission:</span></div><div id="ww1133464" class="Body"><span></span>If the line is in Valid state, the line is first invalidated. </div><div id="ww1133465" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">After read response completion and before RACK transmission:</span></div><div id="ww1133466" class="Body"><span></span>Line should be in Invalid state. No data is stored in cache. </div><div id="ww1133467" class="H4">WriteNoSnoop</div><div id="ww1133468" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">Before Transmission:</span></div><div id="ww1133469" class="Body"><span></span>WriteNoSnoop transaction is transmitted if cache line is in UniqueClean or UniqueDirty state.</div><div id="ww1133470" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">After write response completion and before WACK transmission:</span></div><div id="ww1133471" class="Body"><span></span>The cache line state becomes UniqueClean.</div><div id="ww1138327" class="H4">WriteUnique/WriteLineUnique</div><div id="ww1133473" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">Before transmission:</span></div><div id="ww1133474" class="Body"><span></span>Transaction is dropped if cache line is not in required state.</div><div id="ww1133475" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">After write response completion and before WACK transmission:</span></div><div id="ww1133476" class="Body"><span></span>There is no change in the state or the contents of the cache.</div><div id="ww1133477" class="H4">WriteBack</div><div id="ww1133478" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">Before transmission:</span></div><div id="ww1133479" class="Body"><span></span>If line is not in dirty state, the transaction is dropped. </div><div id="ww1133480" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">After write response completion and before WACK transmission:</span></div><div id="ww1133481" class="Body"><span></span>Line is invalidated in the cache.</div><div id="ww1133482" class="H4">WriteClean</div><div id="ww1133483" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">Before transmission:</span></div><div id="ww1133484" class="Body"><span></span>If line is not in dirty state, the transaction is dropped. </div><div id="ww1133485" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">After write response completion and before WACK transmission:</span></div><div id="ww1133486" class="Body"><span></span>Line remains allocated in the cache. </div><div id="ww1133487" class="H4">Evict</div><div id="ww1133488" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">Before transmission:</span></div><div id="ww1133489" class="Body"><span></span>If the line is not in Clean state, transaction is dropped. </div><div id="ww1140485" class="Body"><span></span>&nbsp;</div><div id="ww1133490" class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span></span><span style="color: #000000; font-family: &quot;Book Antiqua&quot;; font-size: 11.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">After write response completion and before WACK transmission:</span></div><div id="ww1133491" class="Body"><span></span>Line is invalidated in the cache.</div><div id="ww1133492" class="H3">Support for Snoop Transactions</div><div id="ww1133808" class="Body"><span></span>For received snoop transaction types, the snoop response confirms to ACE protocol specification. The snoop response is provided by the snoop response sequencer within the Master Agent. You need to create a snoop response sequence and register it with the snoop response sequencer within the Master Agent. The snoop response sequence may provide a random snoop response, or a snoop response based on the state of the cache within the Master Agent.</div><div id="ww1133802" class="H3">Back Door Access to the Cache</div><div id="ww1133502" class="Body"><span></span>The user can directly access the cache instantiated in the master to read and write information, and to set and get cache line state. The method svt_axi_master_agent::get_cache() returns a handle to the cache instantiated in the master. The returned handle is of type svt_axi_cache.</div><div id="ww1133503" class="Body"><span></span>Data can be written into the cache using method svt_axi_cache::write(). The cache state can also be optionally updated using this method. Data and cache line state can be read from the cache using methods svt_axi_cache::read_by_addr() or svt_axi_cache::read_by_index(). </div><div id="ww1139771" class="Body"><span></span>The method svt_axi_cache::get_any_index() 	  can be used to obtain index of a cache line within the cache. Methods svt_axi_cache::invalidate_addr(), svt_axi_cache::invalidate_index() and svt_axi_cache::invalidate_all() can be used to invalidate cache line entries within the cache. </div><div id="ww1133504" class="Body"><span></span>For more details on accessing the cache, see the Class Reference HTML documentation of <span class="Code">svt_axi_cache</span> class.</div><div id="ww1133505" class="H3">Support for Barrier Transactions</div><div id="ww1133506" class="Body"><span></span>The AXI VIP supports Barrier protocol as defined in the ACE protocol specification. This support is provided in the axi_master_agent_svt component.</div><div id="ww1133507" class="H4">Barrier Transaction Generation</div><div id="ww1133508" class="Body"><span></span>The AXI VIP master can be enabled to generate barrier transactions by programming the port configuration member svt_axi_port_configuration::barrier_enable to '1'. You can program barrier transactions using member svt_axi_transaction::barrier_type. You should generate the barrier transaction pair on read address and write address channels. </div><div id="ww1133509" class="Body"><span></span>If the delay between barrier transactions belonging to a barrier pair exceeds the value specified by svt_axi_port_configuration::barrier_watchdog_timeout, the VIP master would issue a fatal message.</div><div id="ww1133510" class="H4">Associating a Normal Transaction with Barrier Transaction</div><div id="ww1133511" class="Body"><span></span>A normal transaction be specified as a post-barrier transaction, and can be associated with a barrier transaction pair. When a normal transaction is associated with a barrier transaction pair, this transaction will be blocked till both read and write transactions belonging to barrier pair complete.</div><div id="ww1133512" class="Body"><span></span>You can specify whether a normal transaction needs to be associated to a barrier transaction pair by setting member svt_axi_transaction::associate_barrier to '1'. If this member is set to '1', the VIP can either automatically associate this transaction with one of the outstanding barrier transaction pairs, or the association can be defined by the user. This can be controlled using member svt_axi_port_configuration::barrier_association_type. </div><div id="ww1133513" class="Body"><span></span>When barrier_association_type is defined as RANDOM_ASSOCIATION, the VIP master automatically associates the normal transaction with one of the outstanding barrier transaction pairs. When barrier_association_type is defined as USER_DEFINED_ASSOCIATION, you need to implement the callback method svt_axi_master_callback::associate_xact_to_barrier_pair (svt_axi_master_transaction xact, svt_axi_barrier_pair_transaction barrier_xact[$]). </div><div id="ww1133836" class="Body"><span></span>&nbsp;</div><div class="ww_skin_page_overflow"><table class="Note" style="width: 540.75024pt" cellspacing="0" summary=""><tr><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 77.99976pt"><div id="ww1166962" class="Z_Note"><span><img src="Note.gif" alt="*" border="0" width="100" height="27" /></span>&nbsp;</div></td><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 462.75048pt"><div id="ww1166964" class="TableBody"><span></span>The barrier_association_type RANDOM_ASSOCIATION is currently not supported.</div></td></tr></table></div><div id="ww1133514" class="Body"><span></span>The arguments of this callback method are,</div><div id="ww1133515" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Handle to the normal transaction with which Barrier pair needs to be associated</div><div id="ww1133516" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>List of outstanding barrier transaction pairs, to which the normal transaction can be associated</div><div id="ww1133517" class="Body"><span></span>You can associate the normal transaction to any of the outstanding barrier transaction pairs. This association can be done using member svt_axi_transaction::associated_barrier_xact, which is of class type svt_axi_barrier_pair_transaction. After implementing the callback, you should append the callback class to the master driver. The above callback method is called under following conditions:</div><div id="ww1133518" class="L1Num"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>svt_axi_port_configuration::barrier_enable is set to '1'</div><div id="ww1133519" class="L1Num"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>svt_axi_transaction::associate_barrier is set to '1' </div><div id="ww1133520" class="L1Num"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>svt_axi_transaction::associated_barrier_xact is null. If svt_axi_transaction::associated_barrier_xact is not null, it implies that user has already associated this transaction with a barrier pair</div><div id="ww1133521" class="Body"><span></span>The barrier pair is represented by an object of type svt_axi_barrier_pair_transaction. This object contains handles to read barrier and write barrier transactions, which are of type svt_axi_master_transaction.</div><div id="ww1133522" class="Body"><span></span>&nbsp;</div><div class="ww_skin_page_overflow"><table class="Note" style="width: 540.75024pt" cellspacing="0" summary=""><tr><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 77.99976pt"><div id="ww1166997" class="Z_Note"><span><img src="Note.gif" alt="*" border="0" width="100" height="27" /></span>&nbsp;</div></td><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 462.75048pt"><div id="ww1166999" class="TableBody"><span></span>When a normal transaction is associated to the barrier pair as a post barrier transaction, all the other transactions specified after the post barrier transaction would also get blocked, till the post barrier transaction is transmitted.</div></td></tr></table></div><div id="ww1133523" class="H4">IDs for Barrier Transactions</div><div id="ww1133524" class="Body"><span></span>The specification requires that Barrier transactions use different ID values than are in use for non-barrier transactions. To support this, the VIP allows you to specify a range of ID values which can be used for Barrier transactions. The VIP will then validate that the ID specified for Barrier transactions is within this range, and ID specified for normal transactions is outside this range. An error message is issued if this condition is not met. This ensures that Barrier transactions and normal transactions use a mutually exclusive set of IDs.</div><div id="ww1133525" class="Body"><span></span>The range of ID values which can be used for Barrier transactions are specified using members svt_axi_port_configuration::barrier_id_min and svt_axi_port_configuration::barrier_id_max. The non-barrier transactions should use the ID values outside this range.</div><div id="ww1133526" class="H4">Outstanding Barrier Transactions</div><div id="ww1133527" class="Body"><span></span>Member svt_axi_port_configuration::num_outstanding_xact specifies the total number of outstanding transactions. Barrier transactions are considered as part of this total number of outstanding transactions. That is, total of normal outstanding transactions and barrier outstanding transactions will not exceed svt_axi_port_configuration::num_outstanding_xact.</div><div id="ww1133528" class="H3">Support for DVM Transactions</div><div id="ww1133529" class="Body"><span></span>The AXI VIP supports DVM protocol as defined in the ACE protocol specification. This support is provided in the <span class="Code">axi_master_agent_svt</span> component. The AXI VIP supports DVM Operations, DVM Sync and DVM Complete transactions.</div><div id="ww1154658" class="Body"><span></span>&nbsp;</div><div class="ww_skin_page_overflow"><table class="Note" style="width: 540.75024pt" cellspacing="0" summary=""><tr><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 77.99976pt"><div id="ww1167032" class="Z_Note"><span><img src="Note.gif" alt="*" border="0" width="100" height="27" /></span>&nbsp;</div></td><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 462.75048pt"><div id="ww1167034" class="TableBody"><span></span>As per Specification section C12.2 A, a component must have only one outstanding DVM Sync transaction. A component must receive a DVM Complete transaction before it issues another DVM Sync transaction, but VIP currently blocks all transaction driving (and not just next DVMSYNC), till DVMCOMPLETE comes back for recently completed DVMSYNC.</div></td></tr></table></div><div id="ww1133530" class="H4">DVM Transaction Generation</div><div id="ww1133531" class="Body"><span></span>The AXI VIP master can be enabled to generate DVM transactions by programming the port configuration member svt_axi_port_configuration::dvm_enable to '1'. You can program DVM transactions by programming member svt_axi_transaction::coherent_xact_type to DVMMESSAGE or DVMCOMPLETE. You might need to program the values of field svt_axi_transaction::addr to specify the message type. The values specified in this field would get driven on the ARADDR signals. The svt_axi_master_transaction has pre-defined constraints to constrain the values of other fields, when transaction is of type DVM, as required by the ACE protocol specification.</div><div id="ww1133532" class="H4">Generation of DVM Sync</div><div id="ww1133533" class="Body"><span></span>Behavior of DVM Sync generation is as described below based on ACE protocol specification:</div><div id="ww1133534" class="L1Num"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>When you generate a DVM Sync using master VIP, the master VIP would transmit it only if there are preceding DVM Operations. If a DVM Sync is generated right after another DVM Sync, then the second DVM Sync would be dropped.</div><div id="ww1133535" class="L1Num"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>If you attempt to transmit a new DVM Sync, without having received DVM Complete for previous DVM Sync, the new DVM Sync will be stalled till DVM Complete for previous DVM Sync is received.</div><div id="ww1133872" class="H4">Generation of DVM Complete</div><div id="ww1133876" class="Body"><span></span>The Automatic generation of DVM Complete in response to the DVM Sync is not currently supported. However, this feature will be supported in future releases.</div><div id="ww1133877" class="H4">IDs for DVM Transactions</div><div id="ww1133542" class="Body"><span></span>The specification requires that DVM transactions use different ID values than are in use for non-DVM transactions. To support this, the VIP allows you to specify a range of ID values which can be used for DVM transactions. The VIP will then validate that the ID specified for DVM transactions is within this range, and ID specified for normal transactions is outside this range. An error message is issued if this condition is not met. This ensures that DVM transactions and normal transactions use a mutually exclusive set of IDs.</div><div id="ww1133543" class="Body"><span></span>The range of ID values which can be used for DVM transactions are specified using members svt_axi_port_configuration::dvm_id_min and svt_axi_port_configuration::dvm_id_max. The non-DVM transactions should use the ID values outside this range.</div><div id="ww1142773" class="H4">Multi-Part DVM</div><div id="ww1142758" class="Body"><span></span>VIP supports multi-part DVM operation both in active and passive mode. In passive mode, it detects multi-part DVM operation and performs checking associated protocol rules. In active mode, once VIP receives transactions generated from sequence, it first tries to identify multi-part DVM operation and checks all associated rules. If it detects another transaction between the two parts of the multi-part DVM message, then the master VIP drops the transaction and issues an ERROR message. Dropped transaction is not driven on the bus. The transaction which is dropped in such a manner is still written to the analysis port, with the bit <span class="Code">svt_axi_transaction::is_coherent_xact_dropped</span> set to 1. This signifies that the transaction was dropped by the master VIP and was not actually driven on the bus. </div><div id="ww1142825" class="Body"><span></span>&nbsp;</div><div class="ww_skin_page_overflow"><table class="Note" style="width: 540.75024pt" cellspacing="0" summary=""><tr><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 77.99976pt"><div id="ww1167067" class="Z_Note"><span><img src="Note.gif" alt="*" border="0" width="100" height="27" /></span>&nbsp;</div></td><td style="padding-bottom: 6pt; padding-left: 6pt; padding-right: 10pt; padding-top: 6pt; vertical-align: top; width: 462.75048pt"><div id="ww1167069" class="TableBody"><span></span>Built-in sequence <span class="Code">svt_axi_ace_master_multipart_dvm_virtual_sequence</span> is provided as part of the VIP to generate Multi-Part DVM scenario from master VIP.</div></td></tr></table></div><div id="ww1154726" class="BodyHead"><span></span>Programming Multi-part DVM with VIP</div><div id="ww1154727" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Set addr[0] to 1, you need to switch off the following constraint before randomizing:</div><div id="ww1154728" class="L2Code">tr1.reasonable_no_multi_part_dvm.constraint_mode(0);</div><div id="ww1154730" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>You should continue to switch off constraint block and as well call following transaction task before randomization:</div><div id="ww1154731" class="L2Code">tr2.set_multipart_dvm_flag();</div><div id="ww1154732" class="L2Code">tr2.reasonable_no_multi_part_dvm.constraint_mode(0) ;</div><div id="ww1138030" class="H3">Support for ACE-Lite</div><div id="ww1133545" class="Body"><span></span>ACE-Lite mode is enabled when svt_axi_port_configuration::axi_interface_type is set to ACE_LITE. In ACE-Lite mode, the Master VIP transmits only following type of coherent transactions, as per the ACE protocol specification:</div><div id="ww1133546" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>ReadNoSnoop</div><div id="ww1133547" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>ReadOnce</div><div id="ww1133548" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>CleanShared</div><div id="ww1133549" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>CleanInvalid</div><div id="ww1133550" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>MakeInvalid</div><div id="ww1133551" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>WriteNoSnoop</div><div id="ww1133552" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>WriteUnique</div><div id="ww1133553" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>WriteLineUnique</div><div id="ww1133554" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Barrier</div><div id="ww1133555" class="Body"><span></span>If you try to send any other coherent transaction type which is not valid in ACE-Lite mode, the Master VIP will issue a fatal message. The svt_axi_master_transaction class contains constraints such that when the master transaction is randomized, only valid coherent transaction types will be generated in ACE-Lite mode.</div><div id="ww1133556" class="Body"><span></span>In ACE-Lite mode, the un-used signals are driven to Z.</div><div id="ww1133557" class="H3">Support for ACE Domain</div><div id="ww1133558" class="Body"><span></span>You can program the domain using field svt_axi_transaction::domain_type. If you program a domain type which violates the combination with AxCACHE, AxSNOOP and AxBAR signals, the master VIP would issue a fatal message. The svt_axi_master_transaction class contains constraints such that when the master transaction is randomized, only valid combinations of AxDOMAIN, AxCACHE, AxSNOOP and AxBAR signals are generated.</div><div id="ww1133559" class="H3">Support for Speculative Read</div><div id="ww1133560" class="Body"><span></span>Support for speculative read feature can be enabled by programming the port configuration member svt_axi_port_configuration::speculative_read_enable to 1.</div><div id="ww1133561" class="Body"><span></span>A speculative read is defined as a read of a cache line that a master may already be holding in its cache. Consider a case when user generates a coherent transaction for read of a cache line that a master already holds in its cache. </div><div id="ww1133562" class="Body"><span></span>When speculative read is enabled, the master will transmit this coherent transaction. Also, the master will support cache state transitions as defined in second set of tables in chapter C4 of ACE protocol specification. </div><div id="ww1133563" class="Body"><span></span>When speculative read is disabled, the master will not transmit this coherent transaction. In this case, the master will only support cache state transitions as defined in first set of tables in chapter C4 of ACE protocol specification.</div><div id="ww1133564" class="Body"><span></span>Whether a transaction is a speculative read is indicated by read-only transaction class member svt_axi_transaction::is_speculative_read.</div><div id="ww1133565" class="H3">Support for Snoop Filtering</div><div id="ww1133566" class="Body"><span></span>Support for snoop filtering can be enabled by programming the port configuration member svt_axi_port_configuration::snoop_filter_enable to 1. When snoop filtering is enabled in the master VIP, cache state transitions to “Legal End State (with snoop filter)” as specified in tables in chapter C4 of ACE protocol specification, are allowed. These cache state transitions can be done using transaction class member svt_axi_transaction::force_to_shared_state, and by setting svt_axi_port_configuration::cache_line_state_change_type to LEGAL_WITH_SNOOP_FILTER_CACHE_LINE_STATE_CHANGE.</div><div id="ww1133567" class="Body"><span></span>When snoop filtering is enabled, Master VIP would automatically generate evict transactions, when Master VIP removes a cache line to make space to allocate a new cache line.</div><div id="ww1133568" class="H3">Cache State Transitions to Legal End States</div><div id="ww1133569" class="Body"><span></span>Tables in chapter C4 of ACE protocol specification specify a set of legal end states (with snoop filter and without snoop filter), in addition to the expected end states. The Master VIP can support cache state transitions to these legal end states using the following members:</div><div id="ww1133570" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>svt_axi_port_configuration::cache_line_state_change_type</div><div id="ww1133571" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>svt_axi_transaction::force_to_shared_state</div><div id="ww1134904" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>svt_axi_transaction::force_to_invalid_state</div><div id="ww1134909" class="Body"><span></span>For details of the members, see the AXI VIP Class Reference HTML documentation.</div><div id="ww1134910" class="H3">Support for ACE Exclusive Access</div><div id="ww1134857" class="Body"><span></span>The ACE Master model supports the ACE Exclusive access. The master VIP implements a master exclusive monitor. This exclusive monitor is used to monitor the address location used by an Exclusive sequence. This master exclusive monitor is used to determine if another master could have performed a store to the address location during the Exclusive sequence, by monitoring the snoop transaction it receives.</div><div id="ww1134858" class="Body"><span></span>When the master performs an Exclusive Load, the master exclusive monitor is set. The master exclusive monitor is reset when a snoop transaction is observed that indicates another master could perform a store to the location.</div><div id="ww1134859" class="Body"><span></span>Only one outstanding exclusive transaction is allowed, that is, while an exclusive transaction is in progress, any new exclusive transaction will be blocked for execution by master until the completion of the outstanding exclusive transaction.</div><div id="ww1134860" class="H4">Exclusive Load</div><div id="ww1134861" class="Body"><span></span>This section explains the behavior of the ACE Master VIP with respect to the exclusive load.</div><div id="ww1134862" class="Body"><span></span>If a cache line is either in unique or shared state, then master will not initiate the exclusive load transaction on to the interface. This is based on the below description provided in Chapter "Exclusive Accesses" of the ACE protocol specification.</div><div id="ww1134863" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>If the master holds a copy of the line in a Unique state, then issuing a transaction for the Exclusive Load is permitted, but not recommended.</div><div id="ww1134864" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>If the master holds a copy of the line in a Shared state then issuing a transaction for the Exclusive Load is permitted, but not required</div><div id="ww1138042" class="H4">Exclusive Store</div><div id="ww1134867" class="Body"><span></span>This section explains the behavior of the ACE Master VIP with respect to the exclusive store.</div><div id="ww1134868" class="L1Num"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Exclusive store transaction will not be allowed without a prior exclusive load transaction, hence it will be dropped. All dropped exclusive store transactions will be tagged with svt_axi_transaction::is_coherent_xact_dropped set to '1'.</div><div id="ww1134869" class="L1Num"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>If the master receives OKAY response to an exclusive store transaction, based on the status of the master exclusive monitor, the following actions will be taken:</div><div id="ww1134870" class="L2Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L2Bul.png" alt="*" border="0" width="11" height="11" /></span></span>If the master exclusive monitor is reset, then the store will fail, that is, cache will not be updated. You need to restart the whole exclusive sequence again. </div><div id="ww1134871" class="L2Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L2Bul.png" alt="*" border="0" width="11" height="11" /></span></span>If the master exclusive monitor is set, then the exclusive store will fail, that is, cache will not be updated. You can re-initiate the exclusive store transaction alone, or restart the complete exclusive sequence.</div><div id="ww1134872" class="Body"><span></span>The status of the master exclusive monitor is represented by member svt_axi_transaction::excl_mon_status. The status of exclusive access is represented by member svt_axi_transaction::excl_access_status.</div><div id="ww1134873" class="Body"><span></span>The following table shows how to interpret the various combinations of svt_axi_transaction::excl_mon_status and svt_axi_transaction::excl_access_status, to derive the meaning of failure of an exclusive store associated with the corresponding exclusive store transaction.</div><div class="ww_skin_page_overflow"><table class="H_002bVRules" style="width: 520.7292pt" cellspacing="0" summary=""><caption class="TableTitle" style="caption-side: top"><div id="ww1134944" class="TableTitle"><span class="WebWorks_Number" style="width: 66.528pt"><span>Table&nbsp;3‑13	</span></span>&nbsp;</div></caption><tr><th style="border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 2.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: bottom; width: 106.00056pt"><div id="ww1134952" class="TableHeading"><span></span>excl_access_status</div></th><th style="border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 2.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: bottom; width: 110.50056pt"><div id="ww1134954" class="TableHeading"><span></span>excl_mon_status</div></th><th style="border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 2.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: bottom; width: 215.50032pt"><div id="ww1134956" class="TableHeading"><span></span>Reason for exclusive store failure</div></th><th style="border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 2.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: bottom; width: 88.72776pt"><div id="ww1134958" class="TableHeading"><span></span>Action needed</div></th></tr><tr><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 2.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1134960" class="TableBody"><span></span>EXCL_ACCESS_FAIL</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 2.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1134962" class="TableBody"><span></span>EXCL_MON_INVALID</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 2.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1134964" class="TableBody"><span></span>Exclusive store transaction generated prior to an exclusive load transaction and hence the exclusive store transaction will be dropped.</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 2.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1134966" class="TableBody"><span></span>You need to start the exclusive sequence with Exclusive load.</div></td></tr><tr><td style="border-bottom-color: none; border-bottom-style: none; border-bottom-width: 0.0pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1134968" class="TableBody"><span></span>EXCL_ACCESS_FAIL</div></td><td style="border-bottom-color: none; border-bottom-style: none; border-bottom-width: 0.0pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1134970" class="TableBody"><span></span>EXCL_MON_RESET</div></td><td style="border-bottom-color: none; border-bottom-style: none; border-bottom-width: 0.0pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1134972" class="TableBody"><span></span>While initiating the exclusive store transaction, if the exclusive monitor is reset, the master will drop the exclusive store transaction. This will be indicated by setting   svt_axi_transaction::is_coherent_xact_dropped to '1'. In this case, exclusive store fails.</div></td><td style="border-bottom-color: none; border-bottom-style: none; border-bottom-width: 0.0pt; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1134974" class="TableBody"><span></span>You need to restart the complete exclusive sequence.</div></td></tr><tr><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: none; border-right-style: none; border-right-width: 0.0pt; border-top-color: none; border-top-style: none; border-top-width: 0.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1134992" class="TableBody"><span></span>&nbsp;</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: none; border-top-style: none; border-top-width: 0.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1134994" class="TableBody"><span></span>&nbsp;</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: none; border-top-style: none; border-top-width: 0.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1134996" class="TableBody"><span></span>While initiating the exclusive store transaction, if the exclusive monitor is set, the master will initiate the exclusive store transaction on the bus. This will be indicated by setting   svt_axi_transaction::is_coherent_xact_dropped to '0'. Between the point that the Exclusive Store transaction was issued and the point that it completed, a non-Exclusive Store can reset the exclusive monitor. In such a case, irrespective of the response (EXOKAY/OKAY), exclusive store fails.</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: none; border-left-style: none; border-left-width: 0.0pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: none; border-top-style: none; border-top-width: 0.0pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1135025" class="TableBody"><span></span>You need to restart the complete exclusive sequence.</div><div id="ww1134998" class="TableBody"><span></span>&nbsp;</div></td></tr><tr><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1135000" class="TableBody"><span></span>EXCL_ACCESS_FAIL</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1135002" class="TableBody"><span></span>EXCL_MON_SET</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1135004" class="TableBody"><span></span>The exclusive store transaction is initiated on to the bus, the response received is OKAY, and master exclusive monitor is set. In this case, exclusive store fails, as response indicates exclusive access fail.</div></td><td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 4pt; padding-right: 2pt; padding-top: 7pt; vertical-align: top"><div id="ww1135006" class="TableBody"><span></span>Exclusive store transaction alone can be re-initiated, or complete exclusive sequence can be initiated by you.</div></td></tr></table></div><div id="ww1133574" class="H3">Known Limitations</div><div id="ww1133575" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Requirement for WriteUnique and WriteLineUnique transactions specified in ACE protocol specification are not supported. Note that these transactions are typically used by non-cached components, and the restrictions given apply to cacheable components using it (which is a typical case).</div><div id="ww1134169" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>The specification allows a cache line state to transition to the UniqueClean state after it completes. In other words an allocation is made for the transaction. This is currently not supported for READNOSNOOP because a READNOSNOOP need not necessarily be of cache line size, and the allocation may span multiple cache lines.</div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer><input type="hidden" id="preserve_unknown_file_links" value="false"></input></body></html>