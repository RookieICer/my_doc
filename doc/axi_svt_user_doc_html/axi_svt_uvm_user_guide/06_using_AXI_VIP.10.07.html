<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>How to Configure AXI Slaves with Overlapping Address</title><link rel="Prev" href="06_using_AXI_VIP.10.06.html" title="Previous" /><link rel="Next" href="06_using_AXI_VIP.10.08.html" title="Next" /><link rel="StyleSheet" href="css/06_using_AXI_VIP.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/06_using_AXI_VIP_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/axi_svt_uvm_user_guide/06_using_AXI_VIP.10.07.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');

            // escape the '#' character
            //
            redirect_url += '%23' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pN4pkaHAUdN1mopjck_002bIZ92Q" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/axi_svt_uvm_user_guide/06_using_AXI_VIP.10.07.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="01_Intro.01.1.html">AXI UVM User Guide</a> : <a class="WebWorks_Breadcrumb_Link" href="06_using_AXI_VIP.10.01.html#1108065"> Using AXI Verification IP</a> : How to Configure AXI Slaves with Overlapping Address</div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a><a class="ww_behavior_email ww_skin ww_skin_email" title="E-Mail" href="#" target="external_window">&nbsp;</a></div></header><div id="ww1108065" class="H2">How to Configure AXI Slaves with Overlapping Address</div><div id="ww1108066" class="Body"><span></span>If the address map of slaves overlap with each other such as in the case of a dual port memory, the parameter svt_axi_system_configuration::allow_slaves_with_overlapping_addr must be set. The address map of each slave is then set using the svt_axi_system_configuration::set_addr_range method as is usually done. </div><div id="ww1108067" class="Body"><span></span>For details on usage of this parameter, see the documentation of <span class="Code">svt_axi_system_configuration::allow_slaves_with_overlapping_addr</span> in AXI Class Reference. </div><div id="ww1108068" class="Body"><span></span>The following are some additional notes for configuring AXI Slaves with overlapping address:</div><div id="ww1108069" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>Any number of AXI slaves can have overlapping addresses.</div><div id="ww1108070" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>These slaves must lie within the same <span class="Code">svt_axi_system_env</span> instance if the AXI system monitor is used (by setting <span class="Code">svt_axi_system_configuration::system_monitor_enable</span>).</div><div id="ww1108071" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>The start address and end address of an address range that overlaps between multiple AXI slaves must match. </div><div id="ww1108072" class="L1Body"><span></span>In other words, the entire address range for a given range must match across multiple slaves. Partial overlap of an address range is not allowed. For details, see the documentation of <span class="Code">svt_axi_system_configuration::allow_slaves_with_overlapping_addr</span> parameter.</div><div id="ww1108073" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>The user needs to pass a shared memory across slaves that share a common address space. This can be done by creating an instance of svt_mem in the testbench and passing the same svt_mem instance through uvm_config_db to the slave agents that have a shared address space, as shown in the following code snippet:</div><div id="ww1108074" class="L1Code">svt_mem s0_s1_shared_mem = new("s0_s1_shared_mem", // Memory name</div><div id="ww1108075" class="L1Code">&nbsp;&nbsp;&nbsp;"amba",                      // Suite name</div><div id="ww1108076" class="L1Code">&nbsp;&nbsp;&nbsp;data_width, // data_width</div><div id="ww1108077" class="L1Code">&nbsp;&nbsp;&nbsp;0,                           // Address region</div><div id="ww1108078" class="L1Code">&nbsp;&nbsp;&nbsp;0,                           // Lower address bound to memory </div><div id="ww1108079" class="L1Code">&nbsp;&nbsp;&nbsp;((1&lt;&lt;this.cfg.slave_cfg[0].addr_width)-1));     // Upper address bound to memory</div><div id="ww1108080" class="L1Code">&nbsp;</div><div id="ww1108081" class="L1Code">s0_s1_shared_mem.set_meminit(svt_mem::ADDRESS,0,0); // Memory initialization</div><div id="ww1108109" class="L1Code">&nbsp;&nbsp;&nbsp;uvm_config_db#(svt_mem)::set(this, "axi_system_env.slave[0]", "axi_slave_mem",  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s0_s1_shared_mem);</div><div id="ww1108110" class="L1Code">   uvm_config_db#(svt_mem)::set(this, "axi_system_env.slave[1]", "axi_slave_mem",  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s0_s1_shared_mem );</div><div id="ww1108082" class="L1Code">&nbsp;</div><div id="ww1108085" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>The attributes of the slaves which have overlapping addresses, such as data width, can be different.</div><div id="ww1108086" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>If the slaves that share memory have different data widths, the data width of the shared memory must be equal to or greater than the largest data width of the slaves that share an address space. </div><div id="ww1108087" class="L1Body"><span></span>For example, if there are three slaves of data width 32, 64 and 128 bits which share an address range, the data width of the memory created in the testbench can be 128, 256, 512 or 1024.</div><div id="ww1108088" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>If the slaves that share memory have different address widths, the minimum and maximum address of the memory created in the testbench should accommodate the largest addressable region.</div><div id="ww1108089" class="L1Bul"><span class="WebWorks_Number" style="width: 18pt"><span><img src="L1Bul.png" alt="*" border="0" width="9" height="8" /></span></span>There is no arbitration of accesses between the two shared interfaces to memory. If there are accesses to the same location at the same time, the actual value written to memory is not deterministic.</div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer><input type="hidden" id="preserve_unknown_file_links" value="false"></input></body></html>